"use strict";(self.webpackChunknonograms=self.webpackChunknonograms||[]).push([[442],{5459:(t,e,s)=>{s.d(e,{I:()=>n});const n={size:600,size20deg:723.7723388671875,blockSize:30,spf:16,modes:["5x5","10x10","15x15"],languages:["en","ru"],clues:!0}},3442:(t,e,s)=>{s.r(e),s.d(e,{Store:()=>a});var n=s(5459);const r={theme:(()=>{let t="light";return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t="dark"),t})(),lang:(()=>{let t="en";return navigator?.language&&(t=navigator.language.slice(0,2)),n.I.languages.includes(t)||(t="en"),t})(),sound:{volume:.5,muted:!1},music:{volume:.3,muted:!0},records:[],puzzles:[],last:{game:null,editor:null}};class a{static STORE_NAME="Nonograms";static _instance;_state={};constructor(){if(a._instance)return a._instance;const t=localStorage.getItem(a.STORE_NAME);this._state=JSON.parse(t)??r,a._instance=this}getState(){return this._state}removeState(){this._state={},this.emit()}get(t){return o(this._state,t)}set(t,e){i(this._state,t,e),this.emit()}add(t,e){const s=o(this._state,t);if(void 0===s)i(this._state,t,[e]);else{if(!Array.isArray(s))throw new Error(`Can not add to ${t}`);s.push(e)}this.emit()}emit(){localStorage.setItem(a.STORE_NAME,JSON.stringify(this._state))}}function i(t,e,s){if(t!==Object(t))return t;if("string"!=typeof e||""===e)throw new Error("App store. Path must be type of string.");let n=t;const r=e.split("."),a=r.pop();return r.forEach((t=>{n[t]||(n[t]={}),n=n[t]})),a&&(n[a]=s),t}function o(t,e){if(t===Object(t)&&"string"==typeof e&&""!==e)return e.split(".").reduce(((t,e)=>void 0!==t[e]?t[e]:void 0),t);console.warn("App store. Wrong:",e)}}}]);