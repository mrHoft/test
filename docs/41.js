"use strict";(self.webpackChunknonograms=self.webpackChunknonograms||[]).push([[41],{8041:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(1301),c=n(5459),a=n(4770),s=n(3442);const m=new a.Sound,d=new s.Store;function l(e,t,n){n||(m.sound.muted=!1),t&&(m.sound.volume=Number(t)),m.sound.volume>.6?e.className="volume__sound_icon volume-3":m.sound.volume>.3?e.className="volume__sound_icon volume-2":m.sound.volume>0?e.className="volume__sound_icon volume-1":e.className="volume__sound_icon volume-off"}function u(){m.play("dot"),d.set("sound",{volume:m.sound.volume,muted:!1})}function r(){d.set("music",{volume:m.music.volume,muted:!1})}const i=new a.Sound;let _=null,v=0;const p=e=>{if(100===e&&_.textContent.includes("loading")&&(_.textContent=""),_&&!i._playing&&!i.music.muted){v+=1,v>3&&(v=1);const e=".".repeat(v-1);_.textContent=`${e}loading${e}`}},g=e=>{_&&(_.textContent=e)},E=()=>{document.querySelector(".volume__music_icon").classList.add("volume-off"),_.textContent=""};var h=n(7803);const N=new h.Z;function f(){N.mode=this.value}var y=n(9114),b=n(651),k=n(6012);const L=()=>{const e=(new h.Z).lang,t=document.createElement("div");t.className="modal__about hidden";const n=document.createElement("div");n.className="modal__inner";const o=document.createElement("div");o.className="modal__left";const c=document.createElement("div");c.className="modal__right";const a=document.createElement("div");a.className="modal__close hex-btn";const s=document.createElement("div"),m=document.createElement("div");m.className="modal__close_icon",s.append(m),a.append(s),a.addEventListener("click",(()=>t.classList.add("hidden")));const d=document.createElement("h2");d.className="modal__title",d.textContent=k[e].aboutTitle;const l=document.createElement("div");l.className="modal__scroll_wrap";const u=document.createElement("div");u.className="modal__about_descr scrolled",l.append(u),k[e].description.forEach(((e,t)=>{const n=document.createElement("article"),o=document.createElement("div"),c=document.createElement("div");c.className=`modal__about_img0${t+1}`,e.forEach((e=>o.append(function(e){if(e.startsWith("### ")){const t=document.createElement("h3");return t.textContent=e.substring(4),t}const t=function(e){const t=[];return function e(n){const o=n.match(/\[([\w\s\d]+)\]\((https?:\/\/[\w\d./?=#@]+)\)/);if(o){const c=o[1],a=o[2];t.push({text:n.slice(0,o.index),id:c,url:a}),e(n.substring(o.index+c.length+a.length+4))}else t.length&&t.push({text:n})}(e),t.length?t:null}(e);if(t){const e=document.createElement("p");return t.forEach((({text:t,id:n,url:o})=>{if(e.append(document.createTextNode(t)),n){const t=document.createElement("a");t.href=o,t.textContent=n,e.append(t)}})),e}const n=document.createElement("p");return n.textContent=e,n}(e)))),n.append(o,c),u.append(n)}));const r=document.createElement("div");r.className="button",r.textContent="OK",r.addEventListener("click",(()=>t.classList.add("hidden"))),n.append(o,c,a,d,l,r);const i=document.createElement("div");return i.className="modal__bott",t.append(i,n),t.addEventListener("click",(e=>{e.target===e.currentTarget&&e.target.classList.add("hidden")})),t},x=()=>{const e=(new o.Q).name;document.querySelectorAll(".modal__close_icon").forEach((t=>t.classList.toggle("invert","dark"===e))),document.querySelector(".game__reset_icon").classList.toggle("invert","dark"===e),document.querySelector(".game__save_icon").classList.toggle("invert","dark"===e),document.querySelector(".rss__logo").classList.toggle("invert","dark"!==e),document.querySelector(".volume__sound_icon").classList.toggle("invert","dark"!==e),document.querySelector(".volume__music_icon").classList.toggle("invert","dark"!==e),document.querySelector(".bg").classList.toggle("bright","dark"!==e),document.querySelector(".icon_new").classList.toggle("invert","dark"===e),document.querySelector(".icon_random").classList.toggle("invert","dark"===e),document.querySelector(".icon_load").classList.toggle("invert","dark"===e),document.querySelector(".icon_editor").classList.toggle("invert","dark"===e),document.querySelector(".icon_records").classList.toggle("invert","dark"===e),document.querySelector(".icon_about").classList.toggle("invert","dark"===e)},C=new o.Q,S=new s.Store,w=new h.Z;let q=2;function z(){const e=document.createElement("main");e.className="main";const t=document.createElement("div");t.className="base",t.append(function(){const e=document.createElement("div");e.className="game hidden";const t=document.createElement("canvas");t.className="game__field",t.width=c.I.size,t.height=c.I.size,t.textContent="Game field";const n=document.createElement("canvas");n.className="game__grid",n.width=c.I.size,n.height=c.I.size;const o=document.createElement("canvas");o.className="game__hover",o.width=c.I.size,o.height=c.I.size;const a=document.createElement("div");a.className="game__reset hex-btn";const s=document.createElement("div"),m=document.createElement("div");m.className="game__reset_icon",s.append(m),a.append(s);const d=document.createElement("div");d.className="game__solution hex-btn";const l=document.createElement("div");l.textContent="!",d.append(l);const u=document.createElement("div");u.className="game__save hex-btn";const r=document.createElement("div"),i=document.createElement("div");i.className="game__save_icon",r.append(i),u.append(r);const _=document.createElement("div");_.className="game__header";const v=document.createElement("p");v.className="game__header_text hidden",_.append(v,function(){const e=document.createElement("div");return e.className="editor__mode mode hidden",c.I.modes.forEach(((t,n)=>{const o=document.createElement("input");o.className="editor__mode_select mode-select",o.type="radio",o.value=n,o.name="e_mode",o.id=`e_mode${n}`,o.addEventListener("change",f);const c=document.createElement("label");c.textContent=t,c.htmlFor=`e_mode${n}`,e.append(o,c)})),e}());const p=document.createElement("div");p.className="game__left";const g=document.createElement("div");g.className="game__right";const E=document.createElement("div");E.className="game__top";const h=document.createElement("div");return h.className="game__bott",e.append(_,t,n,o,p,g,E,h,a,d,u,function(){const e=document.createElement("div");e.className="game__stats";const t=document.createElement("span");t.className="stats__turns",t.textContent="0/0";const n=document.createElement("span");n.className="stats__pos",n.textContent="0:0";const o=document.createElement("div");o.className="stats__progress";const c=document.createElement("p");c.className="stats__timer",c.textContent="00:00";const a=document.createElement("div");a.className="stats__progress_wrap";const s=document.createElement("div");return s.className="stats__progress_bar",a.append(s),o.append(c,a),e.append(t,o,n),e}(),function(){const e=w.lang,t=document.createElement("form");t.className="editor__save_form hidden";const n=document.createElement("div");n.className="editor__save_name";const o=document.createElement("input");o.name="name",o.type="text",o.autocomplete="off",o.placeholder="",o.className="editor__save_name-text";const c=document.createElement("label");c.className="editor__save_name-label",c.textContent=k[e].puzzleName,n.append(o,c);const a=document.createElement("button");a.type="submit",a.className="editor__save_btn button",a.textContent=k[e].save;const s=document.createElement("div");return s.className="editor__save_message hidden",t.append(n,a,s),t}()),e}());const n=document.createElement("div");return n.className="bg",e.append(n,(0,y.wp)(),function(){const e=document.createElement("div");e.className="player__audio";const t=document.createElement("p");return t.className="player__title",_=t,i.readyCallback=p,i.startPlayCallback=g,i.exceptionCallback=E,e.append(function(){const e=d.get("sound"),t=d.get("music");e&&(Number.isFinite(e.volume)&&(m.sound.volume=e.volume),"boolean"==typeof e.muted&&(m.sound.muted=e.muted)),t&&(Number.isFinite(t.volume)&&(m.music.volume=t.volume),"boolean"==typeof t.muted&&(m.music.muted=t.muted));const n=document.createElement("div");n.className="volume";const o=document.createElement("div");o.className="volume__sound";const c=document.createElement("div");c.className="volume__sound_icon";const a=document.createElement("input");a.className="volume__range",a.type="range",a.step="0.05",a.value=m.sound.volume,a.max="1",a.addEventListener("input",(()=>l(c,a.value))),a.addEventListener("mouseup",u),c.addEventListener("click",(()=>{return e=c,m.sound.muted=!m.sound.muted,m.sound.muted?e.className="volume__sound_icon volume-off":l(e),void d.set("sound.muted",m.sound.muted);var e})),o.append(c,a);const s=document.createElement("div");s.className="volume__music";const i=document.createElement("div");i.className="volume__music_icon";const _=document.createElement("input");return _.className="volume__range",_.type="range",_.step="0.05",_.value=m.music.volume,_.max="1",_.addEventListener("input",(()=>{return e=i,t=_.value,m.music.muted&&(m.musicMuted=!1),t&&(m.musicVolume=Number(t)),void e.classList.toggle("volume-off",0===m.music.volume);var e,t})),_.addEventListener("mouseup",r),i.addEventListener("click",(()=>{return e=i,m.musicMuted=!m.music.muted,e.classList.toggle("volume-off",m.music.muted),void d.set("music.muted",m.music.muted);var e})),s.append(i,_),n.append(o,s),l(c,m.sound.volume,!0),m.sound.muted&&(c.className="volume__sound_icon volume-off"),i.classList.toggle("volume-off",0===m.music.volume||m.music.muted),n}(),_),e}(),t,function(){const e=document.createElement("div");e.className="chars";const t=document.createElement("div");t.className="chars__shrike";const n=document.createElement("div");n.className="chars__bulldog";const o=document.createElement("blockquote");o.className="speech__shrike hidden",t.append(o);const c=document.createElement("blockquote");return c.className="speech__bulldog hidden",n.append(c),e.append(t,n),e}()),e}function P(e,t=(()=>{})){const n=document.createElement(e);n.className=e;const o=new XMLHttpRequest;return o.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(n.innerHTML=this.responseText,q-=1,q<=0&&t()),404===this.status&&(n.innerHTML="Page not found."))},o.open("GET",`./template/${e}.tmpl`,!0),o.send(),n}async function T(){const e=S.get("lang")??"en";w.lang=e,console.log("lanuage:",e);const t=S.get("theme");document.body.classList.toggle("theme__dark","dark"===t);const n=e=>{C.color00=getComputedStyle(document.body).getPropertyValue("--color00"),C.color50=getComputedStyle(document.body).getPropertyValue("--color50"),C.color80=getComputedStyle(document.body).getPropertyValue("--color80"),C.color90=getComputedStyle(document.body).getPropertyValue("--color90"),C.color100=getComputedStyle(document.body).getPropertyValue("--color100"),C.name=e};return new Promise((o=>{const c=()=>{(()=>{const e=document.querySelector(".theme__switcher");e.checked="dark"===t,n(t),e.addEventListener("change",(e=>{e.preventDefault();const t=e.currentTarget.checked;document.body.classList.toggle("theme__dark",t),n(t?"dark":"light"),S.set("theme",t?"dark":"light"),x()}))})(),x(),(()=>{const t=document.querySelector(".language__icon"),n=document.querySelector(".language__select");n.value=e,t.className=`language__icon ${e}`,n.addEventListener("change",(e=>{e.preventDefault(),S.set("lang",e.target.value),location.replace(location.href)}))})(),o()};document.body.append(P("header",c),z(),P("footer",c),(0,y.kN)(),(0,y.k3)(),(0,b.B)(),L()),(0,y.rG)()}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTUksaUJBQWlCLGFBQ2pFcEYsRUFBTXVGLFFBQVVKLGlCQUFpQjdJLFNBQVMwSSxNQUFNSSxpQkFBaUIsYUFDakVwRixFQUFNd0YsU0FBV0wsaUJBQWlCN0ksU0FBUzBJLE1BQU1JLGlCQUFpQixjQUNsRXBGLEVBQU01RCxLQUFPQSxHQStCZixPQUFPLElBQUlxSixTQUFRQyxJQUNqQixNQUFNQyxFQUF3QixLQTdCTixNQUN4QixNQUFNQyxFQUFXdEosU0FBU0MsY0FBYyxvQkFDeENxSixFQUFTQyxRQUF3QixTQUFkZCxFQUNuQkUsRUFBZUYsR0FFZmEsRUFBU25JLGlCQUFpQixVQUFVZ0MsSUFDbENBLEVBQU1xRyxpQkFDTixNQUFNQyxFQUFZdEcsRUFBTUUsY0FBY2tHLFFBQ3RDdkosU0FBUzBJLEtBQUt4SSxVQUFVdUQsT0FBTyxjQUFlZ0csR0FDOUNkLEVBQWVjLEVBQVksT0FBUyxTQUNwQyxFQUFNeEssSUFBSSxRQUFTd0ssRUFBWSxPQUFTLFNBQ3hDbkcsR0FBWSxHQUNiLEVBa0JDb0csR0FDQXBHLElBaEJ5QixNQUMzQixNQUFNL0UsRUFBT3lCLFNBQVNDLGNBQWMsbUJBQzlCcUosRUFBV3RKLFNBQVNDLGNBQWMscUJBQ3hDcUosRUFBUzlLLE1BQVFpQyxFQUNqQmxDLEVBQUtPLFVBQVksa0JBQWtCMkIsSUFFbkM2SSxFQUFTbkksaUJBQWlCLFVBQVVnQyxJQUNsQ0EsRUFBTXFHLGlCQUNOLEVBQU12SyxJQUFJLE9BQVFrRSxFQUFNQyxPQUFPNUUsT0FDL0JtTCxTQUFTQyxRQUFRRCxTQUFTNUcsS0FBSSxHQUMvQixFQU9DOEcsR0FDQVQsR0FBUSxFQUdWcEosU0FBUzBJLEtBQUt4SCxPQUNad0csRUFBbUIsU0FBVTJCLEdBQzdCekYsSUFDQThELEVBQW1CLFNBQVUyQixJQUM3QixXQUNBLFdBQ0EsU0FDQTdJLE1BR0YsU0FBUyxHQUViLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL3ZvbHVtZS5qcyIsIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL3BsYXllci5qcyIsIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL21vZGUuanMiLCJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS9hYm91dC5qcyIsIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL3BhcnNlci5qcyIsIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL3RoZW1lVXBkYXRlLmpzIiwid2VicGFjazovL25vbm9ncmFtcy8uL3NyYy9tb2R1bGUvdWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU291bmQgfSBmcm9tICcuLi91dGlscy9zb3VuZCdcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnLi4vdXRpbHMvc3RvcmUnXG5cbmNvbnN0IHNuZCA9IG5ldyBTb3VuZCgpXG5jb25zdCBzdG9yZSA9IG5ldyBTdG9yZSgpXG5cbmZ1bmN0aW9uIGNoYW5nZVNvdW5kVm9sdW1lKGljb24sIHZhbHVlLCBpbml0KSB7XG4gIGlmICghaW5pdCkgc25kLnNvdW5kLm11dGVkID0gZmFsc2VcbiAgaWYgKHZhbHVlKSBzbmQuc291bmQudm9sdW1lID0gTnVtYmVyKHZhbHVlKVxuICBpZiAoc25kLnNvdW5kLnZvbHVtZSA+IDAuNikge1xuICAgIGljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtMydcbiAgfSBlbHNlIGlmIChzbmQuc291bmQudm9sdW1lID4gMC4zKSB7XG4gICAgaWNvbi5jbGFzc05hbWUgPSAndm9sdW1lX19zb3VuZF9pY29uIHZvbHVtZS0yJ1xuICB9IGVsc2UgaWYgKHNuZC5zb3VuZC52b2x1bWUgPiAwKSB7XG4gICAgaWNvbi5jbGFzc05hbWUgPSAndm9sdW1lX19zb3VuZF9pY29uIHZvbHVtZS0xJ1xuICB9IGVsc2Uge1xuICAgIGljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtb2ZmJ1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVNvdW5kVm9sdW1lRW5kKCkge1xuICBzbmQucGxheSgnZG90JylcbiAgc3RvcmUuc2V0KCdzb3VuZCcsIHsgdm9sdW1lOiBzbmQuc291bmQudm9sdW1lLCBtdXRlZDogZmFsc2UgfSlcbn1cblxuZnVuY3Rpb24gY2hhbmdlTXVzaWNWb2x1bWVFbmQoKSB7XG4gIHN0b3JlLnNldCgnbXVzaWMnLCB7IHZvbHVtZTogc25kLm11c2ljLnZvbHVtZSwgbXV0ZWQ6IGZhbHNlIH0pXG59XG5cbmZ1bmN0aW9uIGNoYW5nZU11c2ljVm9sdW1lKGljb24sIHZhbHVlKSB7XG4gIGlmIChzbmQubXVzaWMubXV0ZWQpIHNuZC5tdXNpY011dGVkID0gZmFsc2VcbiAgaWYgKHZhbHVlKSBzbmQubXVzaWNWb2x1bWUgPSBOdW1iZXIodmFsdWUpXG4gIGljb24uY2xhc3NMaXN0LnRvZ2dsZSgndm9sdW1lLW9mZicsIHNuZC5tdXNpYy52b2x1bWUgPT09IDApXG59XG5cbmZ1bmN0aW9uIG11dGVTb3VuZChpY29uKSB7XG4gIHNuZC5zb3VuZC5tdXRlZCA9ICFzbmQuc291bmQubXV0ZWRcbiAgaWYgKHNuZC5zb3VuZC5tdXRlZCkgaWNvbi5jbGFzc05hbWUgPSAndm9sdW1lX19zb3VuZF9pY29uIHZvbHVtZS1vZmYnXG4gIGVsc2UgY2hhbmdlU291bmRWb2x1bWUoaWNvbilcbiAgc3RvcmUuc2V0KCdzb3VuZC5tdXRlZCcsIHNuZC5zb3VuZC5tdXRlZClcbn1cblxuZnVuY3Rpb24gbXV0ZU11c2ljKGljb24pIHtcbiAgc25kLm11c2ljTXV0ZWQgPSAhc25kLm11c2ljLm11dGVkXG4gIGljb24uY2xhc3NMaXN0LnRvZ2dsZSgndm9sdW1lLW9mZicsIHNuZC5tdXNpYy5tdXRlZClcbiAgc3RvcmUuc2V0KCdtdXNpYy5tdXRlZCcsIHNuZC5tdXNpYy5tdXRlZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZvbHVtZUNvbnRyb2woKSB7XG4gIGNvbnN0IHMgPSBzdG9yZS5nZXQoJ3NvdW5kJylcbiAgY29uc3QgbSA9IHN0b3JlLmdldCgnbXVzaWMnKVxuICBpZiAocykge1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUocy52b2x1bWUpKSBzbmQuc291bmQudm9sdW1lID0gcy52b2x1bWVcbiAgICBpZiAodHlwZW9mIHMubXV0ZWQgPT09ICdib29sZWFuJykgc25kLnNvdW5kLm11dGVkID0gcy5tdXRlZFxuICB9XG4gIGlmIChtKSB7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShtLnZvbHVtZSkpIHNuZC5tdXNpYy52b2x1bWUgPSBtLnZvbHVtZVxuICAgIGlmICh0eXBlb2YgbS5tdXRlZCA9PT0gJ2Jvb2xlYW4nKSBzbmQubXVzaWMubXV0ZWQgPSBtLm11dGVkXG4gIH1cblxuICBjb25zdCB2b2x1bWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB2b2x1bWUuY2xhc3NOYW1lID0gJ3ZvbHVtZSdcblxuICBjb25zdCBzb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNvdW5kLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3NvdW5kJ1xuICBjb25zdCBzbmRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc25kSWNvbi5jbGFzc05hbWUgPSAndm9sdW1lX19zb3VuZF9pY29uJ1xuICBjb25zdCBzbmRSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgc25kUmFuZ2UuY2xhc3NOYW1lID0gJ3ZvbHVtZV9fcmFuZ2UnXG4gIHNuZFJhbmdlLnR5cGUgPSAncmFuZ2UnXG4gIHNuZFJhbmdlLnN0ZXAgPSAnMC4wNSdcbiAgc25kUmFuZ2UudmFsdWUgPSBzbmQuc291bmQudm9sdW1lXG4gIHNuZFJhbmdlLm1heCA9ICcxJ1xuICBzbmRSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGNoYW5nZVNvdW5kVm9sdW1lKHNuZEljb24sIHNuZFJhbmdlLnZhbHVlKSlcbiAgc25kUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNoYW5nZVNvdW5kVm9sdW1lRW5kKVxuICBzbmRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbXV0ZVNvdW5kKHNuZEljb24pKVxuICBzb3VuZC5hcHBlbmQoc25kSWNvbiwgc25kUmFuZ2UpXG5cbiAgY29uc3QgbXVzaWMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtdXNpYy5jbGFzc05hbWUgPSAndm9sdW1lX19tdXNpYydcbiAgY29uc3QgbXVzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG11c0ljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fbXVzaWNfaWNvbidcbiAgY29uc3QgbXVzUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gIG11c1JhbmdlLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3JhbmdlJ1xuICBtdXNSYW5nZS50eXBlID0gJ3JhbmdlJ1xuICBtdXNSYW5nZS5zdGVwID0gJzAuMDUnXG4gIG11c1JhbmdlLnZhbHVlID0gc25kLm11c2ljLnZvbHVtZVxuICBtdXNSYW5nZS5tYXggPSAnMSdcbiAgbXVzUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBjaGFuZ2VNdXNpY1ZvbHVtZShtdXNJY29uLCBtdXNSYW5nZS52YWx1ZSkpXG4gIG11c1JhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBjaGFuZ2VNdXNpY1ZvbHVtZUVuZClcbiAgbXVzSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG11dGVNdXNpYyhtdXNJY29uKSlcbiAgbXVzaWMuYXBwZW5kKG11c0ljb24sIG11c1JhbmdlKVxuXG4gIHZvbHVtZS5hcHBlbmQoc291bmQsIG11c2ljKVxuXG4gIGNoYW5nZVNvdW5kVm9sdW1lKHNuZEljb24sIHNuZC5zb3VuZC52b2x1bWUsIHRydWUpXG4gIGlmIChzbmQuc291bmQubXV0ZWQpIHNuZEljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtb2ZmJ1xuICBtdXNJY29uLmNsYXNzTGlzdC50b2dnbGUoJ3ZvbHVtZS1vZmYnLCBzbmQubXVzaWMudm9sdW1lID09PSAwIHx8IHNuZC5tdXNpYy5tdXRlZClcblxuICByZXR1cm4gdm9sdW1lXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVWb2x1bWVDb250cm9sIH0gZnJvbSAnLi92b2x1bWUnXG5pbXBvcnQgeyBTb3VuZCB9IGZyb20gJy4uL3V0aWxzL3NvdW5kJ1xuXG5jb25zdCBzb3VuZCA9IG5ldyBTb3VuZCgpXG5sZXQgdGl0bGUgPSBudWxsXG5sZXQgcHJvZ3Jlc3MgPSAwXG5cbmNvbnN0IHJlYWR5Q2FsbGJhY2sgPSBsb2FkZWQgPT4ge1xuICBpZiAobG9hZGVkID09PSAxMDAgJiYgdGl0bGUudGV4dENvbnRlbnQuaW5jbHVkZXMoJ2xvYWRpbmcnKSkgdGl0bGUudGV4dENvbnRlbnQgPSAnJ1xuICBpZiAodGl0bGUgJiYgIXNvdW5kLl9wbGF5aW5nICYmICFzb3VuZC5tdXNpYy5tdXRlZCkge1xuICAgIHByb2dyZXNzICs9IDFcbiAgICBpZiAocHJvZ3Jlc3MgPiAzKSBwcm9ncmVzcyA9IDFcbiAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdChwcm9ncmVzcyAtIDEpXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBgJHtkb3RzfWxvYWRpbmcke2RvdHN9YFxuICB9XG59XG5cbmNvbnN0IHN0YXJ0UGxheUNhbGxiYWNrID0gbmFtZSA9PiB7XG4gIGlmICh0aXRsZSkge1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gbmFtZVxuICB9XG59XG5cbmNvbnN0IGV4Y2VwdGlvbkNhbGxiYWNrID0gKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lX19tdXNpY19pY29uJykuY2xhc3NMaXN0LmFkZCgndm9sdW1lLW9mZicpXG4gIHRpdGxlLnRleHRDb250ZW50ID0gJydcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllcigpIHtcbiAgY29uc3QgcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgcGxheWVyLmNsYXNzTmFtZSA9ICdwbGF5ZXJfX2F1ZGlvJ1xuICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICBmaWVsZC5jbGFzc05hbWUgPSAncGxheWVyX190aXRsZSdcbiAgdGl0bGUgPSBmaWVsZFxuXG4gIHNvdW5kLnJlYWR5Q2FsbGJhY2sgPSByZWFkeUNhbGxiYWNrXG4gIHNvdW5kLnN0YXJ0UGxheUNhbGxiYWNrID0gc3RhcnRQbGF5Q2FsbGJhY2tcbiAgc291bmQuZXhjZXB0aW9uQ2FsbGJhY2sgPSBleGNlcHRpb25DYWxsYmFja1xuXG4gIHBsYXllci5hcHBlbmQoY3JlYXRlVm9sdW1lQ29udHJvbCgpLCB0aXRsZSlcbiAgcmV0dXJuIHBsYXllclxufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi91dGlscy9zdGF0ZSdcbmltcG9ydCB7IEdBTUUgfSBmcm9tICcuL2NvbnN0YW50cydcblxuY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKVxuXG5mdW5jdGlvbiBoYW5kbGVNb2RlQ2hhbmdlKCkge1xuICAvLyBjb25zb2xlLmxvZygnTW9kZTonLHRoaXMudmFsdWUpXG4gIHN0YXRlLm1vZGUgPSB0aGlzLnZhbHVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2RlU2VsZWN0b3IoKSB7XG4gIGNvbnN0IG1vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtb2RlLmNsYXNzTmFtZSA9ICdlZGl0b3JfX21vZGUgbW9kZSBoaWRkZW4nXG4gIEdBTUUubW9kZXMuZm9yRWFjaCgobmFtZSwgaSkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgIGlucHV0LmNsYXNzTmFtZSA9ICdlZGl0b3JfX21vZGVfc2VsZWN0IG1vZGUtc2VsZWN0J1xuICAgIGlucHV0LnR5cGUgPSAncmFkaW8nXG4gICAgaW5wdXQudmFsdWUgPSBpXG4gICAgaW5wdXQubmFtZSA9ICdlX21vZGUnXG4gICAgaW5wdXQuaWQgPSBgZV9tb2RlJHtpfWBcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVNb2RlQ2hhbmdlKVxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgIGxhYmVsLnRleHRDb250ZW50ID0gbmFtZVxuICAgIGxhYmVsLmh0bWxGb3IgPSBgZV9tb2RlJHtpfWBcbiAgICBtb2RlLmFwcGVuZChpbnB1dCwgbGFiZWwpXG4gIH0pXG4gIHJldHVybiBtb2RlXG59XG4iLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL3N0YXRlJ1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICcuL3BhcnNlcidcbmltcG9ydCBMb2MgZnJvbSAnLi4vZGF0YS9sb2MuanNvbicgYXNzZXJ0IHsgdHlwZTogJ2pzb24nIH1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vZGFsQWJvdXQgPSAoKSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gbmV3IFN0YXRlKClcbiAgY29uc3QgbGFuZyA9IHN0YXRlLmxhbmdcblxuICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbF9fYWJvdXQgaGlkZGVuJ1xuICBjb25zdCBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGlubmVyLmNsYXNzTmFtZSA9ICdtb2RhbF9faW5uZXInXG4gIGNvbnN0IGxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBsZWZ0LmNsYXNzTmFtZSA9ICdtb2RhbF9fbGVmdCdcbiAgY29uc3QgcmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICByaWdodC5jbGFzc05hbWUgPSAnbW9kYWxfX3JpZ2h0J1xuXG4gIGNvbnN0IGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY2xvc2UuY2xhc3NOYW1lID0gJ21vZGFsX19jbG9zZSBoZXgtYnRuJ1xuICBjb25zdCBjbG9zZUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29uc3QgY2xvc2VJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjbG9zZUltZy5jbGFzc05hbWUgPSAnbW9kYWxfX2Nsb3NlX2ljb24nXG4gIGNsb3NlSW5uZXIuYXBwZW5kKGNsb3NlSW1nKVxuICBjbG9zZS5hcHBlbmQoY2xvc2VJbm5lcilcbiAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKSlcblxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJylcbiAgdGl0bGUuY2xhc3NOYW1lID0gJ21vZGFsX190aXRsZSdcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBMb2NbbGFuZ10uYWJvdXRUaXRsZVxuXG4gIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB3cmFwLmNsYXNzTmFtZSA9ICdtb2RhbF9fc2Nyb2xsX3dyYXAnXG4gIGNvbnN0IGRlc2NyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZGVzY3IuY2xhc3NOYW1lID0gJ21vZGFsX19hYm91dF9kZXNjciBzY3JvbGxlZCdcbiAgd3JhcC5hcHBlbmQoZGVzY3IpXG5cbiAgTG9jW2xhbmddLmRlc2NyaXB0aW9uLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XG4gICAgY29uc3QgYXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FydGljbGUnKVxuICAgIGNvbnN0IGxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICByaWdodC5jbGFzc05hbWUgPSBgbW9kYWxfX2Fib3V0X2ltZzAke2kgKyAxfWBcbiAgICBibG9jay5mb3JFYWNoKHRleHQgPT4gbGVmdC5hcHBlbmQocGFyc2UodGV4dCkpKVxuICAgIGFydGljbGUuYXBwZW5kKGxlZnQsIHJpZ2h0KVxuICAgIGRlc2NyLmFwcGVuZChhcnRpY2xlKVxuICB9KVxuXG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJ0bi5jbGFzc05hbWUgPSAnYnV0dG9uJ1xuICBidG4udGV4dENvbnRlbnQgPSAnT0snXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpKVxuXG4gIGlubmVyLmFwcGVuZChsZWZ0LCByaWdodCwgY2xvc2UsIHRpdGxlLCB3cmFwLCBidG4pXG5cbiAgY29uc3QgYm90dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJvdHQuY2xhc3NOYW1lID0gJ21vZGFsX19ib3R0J1xuXG4gIG1vZGFsLmFwcGVuZChib3R0LCBpbm5lcilcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfVxuICB9KVxuICByZXR1cm4gbW9kYWxcbn1cbiIsImZ1bmN0aW9uIGNoZWNrTGluayh0ZXh0KSB7XG4gIGNvbnN0IGFyciA9IFtdXG4gIGZ1bmN0aW9uIGNoZWNrZXIoc3RyKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBzdHIubWF0Y2goL1xcWyhbXFx3XFxzXFxkXSspXFxdXFwoKGh0dHBzPzpcXC9cXC9bXFx3XFxkLi8/PSNAXSspXFwpLylcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IGlkID0gbWF0Y2hbMV1cbiAgICAgIGNvbnN0IHVybCA9IG1hdGNoWzJdXG4gICAgICBhcnIucHVzaCh7IHRleHQ6IHN0ci5zbGljZSgwLCBtYXRjaC5pbmRleCksIGlkLCB1cmwgfSlcbiAgICAgIGNoZWNrZXIoc3RyLnN1YnN0cmluZyhtYXRjaC5pbmRleCArIGlkLmxlbmd0aCArIHVybC5sZW5ndGggKyA0KSlcbiAgICB9IGVsc2UgaWYgKGFyci5sZW5ndGgpIGFyci5wdXNoKHsgdGV4dDogc3RyIH0pXG4gIH1cbiAgY2hlY2tlcih0ZXh0KVxuICByZXR1cm4gYXJyLmxlbmd0aCA/IGFyciA6IG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgaWYgKHRleHQuc3RhcnRzV2l0aCgnIyMjICcpKSB7XG4gICAgY29uc3QgaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJylcbiAgICBoLnRleHRDb250ZW50ID0gdGV4dC5zdWJzdHJpbmcoNClcbiAgICByZXR1cm4gaFxuICB9XG5cbiAgY29uc3QgbGlua3MgPSBjaGVja0xpbmsodGV4dClcbiAgaWYgKGxpbmtzKSB7XG4gICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgIGxpbmtzLmZvckVhY2goKHsgdGV4dCwgaWQsIHVybCB9KSA9PiB7XG4gICAgICBwLmFwcGVuZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSlcbiAgICAgIGlmIChpZCkge1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgIGEuaHJlZiA9IHVybFxuICAgICAgICBhLnRleHRDb250ZW50ID0gaWRcbiAgICAgICAgcC5hcHBlbmQoYSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwXG4gIH1cblxuICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gIHAudGV4dENvbnRlbnQgPSB0ZXh0XG4gIHJldHVybiBwXG59XG4iLCJpbXBvcnQgeyBUaGVtZSB9IGZyb20gJy4uL3V0aWxzL3RoZW1lJ1xuXG5leHBvcnQgY29uc3QgdGhlbWVVcGRhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IHRoZW1lID0gbmV3IFRoZW1lKClcbiAgY29uc3QgbmFtZSA9IHRoZW1lLm5hbWVcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2Nsb3NlX2ljb24nKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJykpXG5cbiAgLy8gR2FtZVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZV9fcmVzZXRfaWNvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfX3NhdmVfaWNvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucnNzX19sb2dvJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSAhPT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lX19zb3VuZF9pY29uJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSAhPT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lX19tdXNpY19pY29uJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSAhPT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmcnKS5jbGFzc0xpc3QudG9nZ2xlKCdicmlnaHQnLCBuYW1lICE9PSAnZGFyaycpXG5cbiAgLy8gU2lkZSBtZW51XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pY29uX25ldycpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljb25fcmFuZG9tJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSA9PT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9sb2FkJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSA9PT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9lZGl0b3InKS5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pY29uX3JlY29yZHMnKS5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pY29uX2Fib3V0JykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSA9PT0gJ2RhcmsnKVxufVxuIiwiaW1wb3J0IHsgVGhlbWUgfSBmcm9tICcuLi91dGlscy90aGVtZSdcbmltcG9ydCB7IEdBTUUgfSBmcm9tICcuLi9tb2R1bGUvY29uc3RhbnRzJ1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInXG5pbXBvcnQgeyBjcmVhdGVNb2RlU2VsZWN0b3IgfSBmcm9tICcuL21vZGUnXG5pbXBvcnQgeyBpbml0TWVudSwgY3JlYXRlTW9kYWxHYW1lLCBjcmVhdGVNb2RhbFJlc3VsdHMsIGNyZWF0ZVNpZGVNZW51IH0gZnJvbSAnLi9tZW51J1xuaW1wb3J0IHsgY3JlYXRlTW9kYWxSZWNvcmRzIH0gZnJvbSAnLi9yZWNvcmRzJ1xuaW1wb3J0IHsgY3JlYXRlTW9kYWxBYm91dCB9IGZyb20gJy4vYWJvdXQnXG5pbXBvcnQgeyB0aGVtZVVwZGF0ZSB9IGZyb20gJy4vdGhlbWVVcGRhdGUnXG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL3N0YXRlJ1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICcuLi91dGlscy9zdG9yZSdcbmltcG9ydCBMb2MgZnJvbSAnLi4vZGF0YS9sb2MuanNvbicgYXNzZXJ0IHsgdHlwZTogJ2pzb24nIH1cblxuY29uc3QgdGhlbWUgPSBuZXcgVGhlbWUoKVxuY29uc3Qgc3RvcmUgPSBuZXcgU3RvcmUoKVxuY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKVxubGV0IHBlbmRpbmcgPSAyXG5cbmZ1bmN0aW9uIGNyZWF0ZUNoYXJzKCkge1xuICBjb25zdCBjaGFycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNoYXJzLmNsYXNzTmFtZSA9ICdjaGFycydcbiAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGxlZnQuY2xhc3NOYW1lID0gJ2NoYXJzX19zaHJpa2UnXG4gIGNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgcmlnaHQuY2xhc3NOYW1lID0gJ2NoYXJzX19idWxsZG9nJ1xuXG4gIGNvbnN0IHNocmlrZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jsb2NrcXVvdGUnKVxuICBzaHJpa2UuY2xhc3NOYW1lID0gJ3NwZWVjaF9fc2hyaWtlIGhpZGRlbidcbiAgbGVmdC5hcHBlbmQoc2hyaWtlKVxuICBjb25zdCBidWxsZG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYmxvY2txdW90ZScpXG4gIGJ1bGxkb2cuY2xhc3NOYW1lID0gJ3NwZWVjaF9fYnVsbGRvZyBoaWRkZW4nXG4gIHJpZ2h0LmFwcGVuZChidWxsZG9nKVxuXG4gIGNoYXJzLmFwcGVuZChsZWZ0LCByaWdodClcbiAgcmV0dXJuIGNoYXJzXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRzKCkge1xuICBjb25zdCBzdGF0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHN0YXRzLmNsYXNzTmFtZSA9ICdnYW1lX19zdGF0cydcblxuICBjb25zdCB0dXJucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICB0dXJucy5jbGFzc05hbWUgPSAnc3RhdHNfX3R1cm5zJ1xuICB0dXJucy50ZXh0Q29udGVudCA9ICcwLzAnXG5cbiAgY29uc3QgcG9zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gIHBvcy5jbGFzc05hbWUgPSAnc3RhdHNfX3BvcydcbiAgcG9zLnRleHRDb250ZW50ID0gJzA6MCdcblxuICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgd3JhcC5jbGFzc05hbWUgPSAnc3RhdHNfX3Byb2dyZXNzJ1xuXG4gIGNvbnN0IHRpbWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gIHRpbWVyLmNsYXNzTmFtZSA9ICdzdGF0c19fdGltZXInXG4gIHRpbWVyLnRleHRDb250ZW50ID0gJzAwOjAwJ1xuXG4gIGNvbnN0IHByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgcHJvZ3Jlc3MuY2xhc3NOYW1lID0gJ3N0YXRzX19wcm9ncmVzc193cmFwJ1xuICBjb25zdCBwcm9ncmVzc2JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHByb2dyZXNzYmFyLmNsYXNzTmFtZSA9ICdzdGF0c19fcHJvZ3Jlc3NfYmFyJ1xuICBwcm9ncmVzcy5hcHBlbmQocHJvZ3Jlc3NiYXIpXG5cbiAgd3JhcC5hcHBlbmQodGltZXIsIHByb2dyZXNzKVxuXG4gIHN0YXRzLmFwcGVuZCh0dXJucywgd3JhcCwgcG9zKVxuICByZXR1cm4gc3RhdHNcbn1cblxuZnVuY3Rpb24gY3JlYXRlR2FtZUZpZWxkKCkge1xuICBjb25zdCBnYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZ2FtZS5jbGFzc05hbWUgPSAnZ2FtZSBoaWRkZW4nXG5cbiAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICBmaWVsZC5jbGFzc05hbWUgPSAnZ2FtZV9fZmllbGQnXG4gIGZpZWxkLndpZHRoID0gR0FNRS5zaXplXG4gIGZpZWxkLmhlaWdodCA9IEdBTUUuc2l6ZVxuICBmaWVsZC50ZXh0Q29udGVudCA9ICdHYW1lIGZpZWxkJ1xuXG4gIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICBncmlkLmNsYXNzTmFtZSA9ICdnYW1lX19ncmlkJ1xuICBncmlkLndpZHRoID0gR0FNRS5zaXplXG4gIGdyaWQuaGVpZ2h0ID0gR0FNRS5zaXplXG5cbiAgY29uc3QgaG92ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICBob3Zlci5jbGFzc05hbWUgPSAnZ2FtZV9faG92ZXInXG4gIGhvdmVyLndpZHRoID0gR0FNRS5zaXplXG4gIGhvdmVyLmhlaWdodCA9IEdBTUUuc2l6ZVxuXG4gIGNvbnN0IHJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgcmVzZXQuY2xhc3NOYW1lID0gJ2dhbWVfX3Jlc2V0IGhleC1idG4nXG4gIGNvbnN0IHJlc2V0SW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjb25zdCByZXNldEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHJlc2V0SW1nLmNsYXNzTmFtZSA9ICdnYW1lX19yZXNldF9pY29uJ1xuICByZXNldElubmVyLmFwcGVuZChyZXNldEltZylcbiAgcmVzZXQuYXBwZW5kKHJlc2V0SW5uZXIpXG5cbiAgY29uc3Qgc29sdXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzb2x1dGlvbi5jbGFzc05hbWUgPSAnZ2FtZV9fc29sdXRpb24gaGV4LWJ0bidcbiAgY29uc3Qgc29sdXRpb25Jbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNvbHV0aW9uSW5uZXIudGV4dENvbnRlbnQgPSAnISdcbiAgc29sdXRpb24uYXBwZW5kKHNvbHV0aW9uSW5uZXIpXG5cbiAgY29uc3Qgc2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNhdmUuY2xhc3NOYW1lID0gJ2dhbWVfX3NhdmUgaGV4LWJ0bidcbiAgY29uc3Qgc2F2ZUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29uc3Qgc2F2ZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNhdmVJbWcuY2xhc3NOYW1lID0gJ2dhbWVfX3NhdmVfaWNvbidcbiAgc2F2ZUlubmVyLmFwcGVuZChzYXZlSW1nKVxuICBzYXZlLmFwcGVuZChzYXZlSW5uZXIpXG5cbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgaGVhZGVyLmNsYXNzTmFtZSA9ICdnYW1lX19oZWFkZXInXG4gIGNvbnN0IGhlYWRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgaGVhZGVyVGV4dC5jbGFzc05hbWUgPSAnZ2FtZV9faGVhZGVyX3RleHQgaGlkZGVuJ1xuICBoZWFkZXIuYXBwZW5kKGhlYWRlclRleHQsIGNyZWF0ZU1vZGVTZWxlY3RvcigpKVxuXG4gIGNvbnN0IGxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBsZWZ0LmNsYXNzTmFtZSA9ICdnYW1lX19sZWZ0J1xuICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHJpZ2h0LmNsYXNzTmFtZSA9ICdnYW1lX19yaWdodCdcbiAgY29uc3QgdG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgdG9wLmNsYXNzTmFtZSA9ICdnYW1lX190b3AnXG4gIGNvbnN0IGJvdHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBib3R0LmNsYXNzTmFtZSA9ICdnYW1lX19ib3R0J1xuXG4gIGdhbWUuYXBwZW5kKGhlYWRlciwgZmllbGQsIGdyaWQsIGhvdmVyLCBsZWZ0LCByaWdodCwgdG9wLCBib3R0LCByZXNldCwgc29sdXRpb24sIHNhdmUsIGNyZWF0ZVN0YXRzKCksIGNyZWF0ZVNhdmVGb3JtKCkpXG4gIHJldHVybiBnYW1lXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNhdmVGb3JtKCkge1xuICBjb25zdCBsYW5nID0gc3RhdGUubGFuZ1xuXG4gIGNvbnN0IHNhdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgc2F2ZS5jbGFzc05hbWUgPSAnZWRpdG9yX19zYXZlX2Zvcm0gaGlkZGVuJ1xuXG4gIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBuYW1lLmNsYXNzTmFtZSA9ICdlZGl0b3JfX3NhdmVfbmFtZSdcblxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgaW5wdXQubmFtZSA9ICduYW1lJ1xuICBpbnB1dC50eXBlID0gJ3RleHQnXG4gIGlucHV0LmF1dG9jb21wbGV0ZSA9ICdvZmYnXG4gIGlucHV0LnBsYWNlaG9sZGVyID0gJydcbiAgaW5wdXQuY2xhc3NOYW1lID0gJ2VkaXRvcl9fc2F2ZV9uYW1lLXRleHQnXG5cbiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gIGxhYmVsLmNsYXNzTmFtZSA9ICdlZGl0b3JfX3NhdmVfbmFtZS1sYWJlbCdcbiAgbGFiZWwudGV4dENvbnRlbnQgPSBMb2NbbGFuZ10ucHV6emxlTmFtZVxuXG4gIG5hbWUuYXBwZW5kKGlucHV0LCBsYWJlbClcblxuICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICBidG4udHlwZSA9ICdzdWJtaXQnXG4gIGJ0bi5jbGFzc05hbWUgPSAnZWRpdG9yX19zYXZlX2J0biBidXR0b24nXG4gIGJ0bi50ZXh0Q29udGVudCA9IExvY1tsYW5nXS5zYXZlXG5cbiAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIG1lc3NhZ2UuY2xhc3NOYW1lID0gJ2VkaXRvcl9fc2F2ZV9tZXNzYWdlIGhpZGRlbidcblxuICBzYXZlLmFwcGVuZChuYW1lLCBidG4sIG1lc3NhZ2UpXG4gIHJldHVybiBzYXZlXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1haW4oKSB7XG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJylcbiAgbWFpbi5jbGFzc05hbWUgPSAnbWFpbidcblxuICBjb25zdCBiYXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYmFzZS5jbGFzc05hbWUgPSAnYmFzZSdcblxuICBiYXNlLmFwcGVuZChjcmVhdGVHYW1lRmllbGQoKSlcblxuICBjb25zdCBiZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJnLmNsYXNzTmFtZSA9ICdiZydcblxuICBtYWluLmFwcGVuZChiZywgY3JlYXRlU2lkZU1lbnUoKSwgY3JlYXRlUGxheWVyKCksIGJhc2UsIGNyZWF0ZUNoYXJzKCkpXG4gIHJldHVybiBtYWluXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21UZW1wbGF0ZShuYW1lLCBjYWxsYmFjayA9ICgpID0+IHt9KSB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKVxuICBlbC5jbGFzc05hbWUgPSBuYW1lXG4gIGNvbnN0IHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IHRoaXMucmVzcG9uc2VUZXh0XG4gICAgICAgIHBlbmRpbmcgLT0gMVxuICAgICAgICBpZiAocGVuZGluZyA8PSAwKSBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBlbC5pbm5lckhUTUwgPSAnUGFnZSBub3QgZm91bmQuJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB4aHR0cC5vcGVuKCdHRVQnLCBgLi90ZW1wbGF0ZS8ke25hbWV9LnRtcGxgLCB0cnVlKVxuICB4aHR0cC5zZW5kKClcbiAgcmV0dXJuIGVsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGluaXRVSSgpIHtcbiAgY29uc3QgbGFuZyA9IHN0b3JlLmdldCgnbGFuZycpID8/ICdlbidcbiAgc3RhdGUubGFuZyA9IGxhbmdcbiAgY29uc29sZS5sb2coJ2xhbnVhZ2U6JywgbGFuZylcbiAgY29uc3QgdGhlbWVOYW1lID0gc3RvcmUuZ2V0KCd0aGVtZScpXG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgndGhlbWVfX2RhcmsnLCB0aGVtZU5hbWUgPT09ICdkYXJrJylcblxuICBjb25zdCBnZXRUaGVtZUNvbG9ycyA9IG5hbWUgPT4ge1xuICAgIHRoZW1lLmNvbG9yMDAgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3IwMCcpXG4gICAgdGhlbWUuY29sb3I1MCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvcjUwJylcbiAgICB0aGVtZS5jb2xvcjgwID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yODAnKVxuICAgIHRoZW1lLmNvbG9yOTAgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3I5MCcpXG4gICAgdGhlbWUuY29sb3IxMDAgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3IxMDAnKVxuICAgIHRoZW1lLm5hbWUgPSBuYW1lXG4gIH1cblxuICBjb25zdCBpbml0VGhlbWVTd2l0Y2hlciA9ICgpID0+IHtcbiAgICBjb25zdCBzd2l0Y2hlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVtZV9fc3dpdGNoZXInKVxuICAgIHN3aXRjaGVyLmNoZWNrZWQgPSB0aGVtZU5hbWUgPT09ICdkYXJrJ1xuICAgIGdldFRoZW1lQ29sb3JzKHRoZW1lTmFtZSlcblxuICAgIHN3aXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGNvbnN0IGRhcmtUaGVtZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZFxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCd0aGVtZV9fZGFyaycsIGRhcmtUaGVtZSlcbiAgICAgIGdldFRoZW1lQ29sb3JzKGRhcmtUaGVtZSA/ICdkYXJrJyA6ICdsaWdodCcpXG4gICAgICBzdG9yZS5zZXQoJ3RoZW1lJywgZGFya1RoZW1lID8gJ2RhcmsnIDogJ2xpZ2h0JylcbiAgICAgIHRoZW1lVXBkYXRlKClcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaW5pdExhbmd1YWdlU3dpdGNoZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5ndWFnZV9faWNvbicpXG4gICAgY29uc3Qgc3dpdGNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZ3VhZ2VfX3NlbGVjdCcpXG4gICAgc3dpdGNoZXIudmFsdWUgPSBsYW5nXG4gICAgaWNvbi5jbGFzc05hbWUgPSBgbGFuZ3VhZ2VfX2ljb24gJHtsYW5nfWBcblxuICAgIHN3aXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIHN0b3JlLnNldCgnbGFuZycsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgIGxvY2F0aW9uLnJlcGxhY2UobG9jYXRpb24uaHJlZilcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IGluaXRQZW5kaW5nQ29tcG9uZW50cyA9ICgpID0+IHtcbiAgICAgIGluaXRUaGVtZVN3aXRjaGVyKClcbiAgICAgIHRoZW1lVXBkYXRlKClcbiAgICAgIGluaXRMYW5ndWFnZVN3aXRjaGVyKClcbiAgICAgIHJlc29sdmUoKVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKFxuICAgICAgY3JlYXRlRnJvbVRlbXBsYXRlKCdoZWFkZXInLCBpbml0UGVuZGluZ0NvbXBvbmVudHMpLFxuICAgICAgY3JlYXRlTWFpbigpLFxuICAgICAgY3JlYXRlRnJvbVRlbXBsYXRlKCdmb290ZXInLCBpbml0UGVuZGluZ0NvbXBvbmVudHMpLFxuICAgICAgY3JlYXRlTW9kYWxHYW1lKCksXG4gICAgICBjcmVhdGVNb2RhbFJlc3VsdHMoKSxcbiAgICAgIGNyZWF0ZU1vZGFsUmVjb3JkcygpLFxuICAgICAgY3JlYXRlTW9kYWxBYm91dCgpXG4gICAgKVxuXG4gICAgaW5pdE1lbnUoKVxuICB9KVxufVxuIl0sIm5hbWVzIjpbInNuZCIsIlNvdW5kIiwiU3RvcmUiLCJjaGFuZ2VTb3VuZFZvbHVtZSIsImljb24iLCJ2YWx1ZSIsImluaXQiLCJzb3VuZCIsIm11dGVkIiwidm9sdW1lIiwiTnVtYmVyIiwiY2xhc3NOYW1lIiwiY2hhbmdlU291bmRWb2x1bWVFbmQiLCJwbGF5Iiwic2V0IiwiY2hhbmdlTXVzaWNWb2x1bWVFbmQiLCJtdXNpYyIsInRpdGxlIiwicHJvZ3Jlc3MiLCJyZWFkeUNhbGxiYWNrIiwibG9hZGVkIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsIl9wbGF5aW5nIiwiZG90cyIsInJlcGVhdCIsInN0YXJ0UGxheUNhbGxiYWNrIiwibmFtZSIsImV4Y2VwdGlvbkNhbGxiYWNrIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwic3RhdGUiLCJoYW5kbGVNb2RlQ2hhbmdlIiwibW9kZSIsInRoaXMiLCJjcmVhdGVNb2RhbEFib3V0IiwibGFuZyIsIm1vZGFsIiwiY3JlYXRlRWxlbWVudCIsImlubmVyIiwibGVmdCIsInJpZ2h0IiwiY2xvc2UiLCJjbG9zZUlubmVyIiwiY2xvc2VJbWciLCJhcHBlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWJvdXRUaXRsZSIsIndyYXAiLCJkZXNjciIsImRlc2NyaXB0aW9uIiwiZm9yRWFjaCIsImJsb2NrIiwiaSIsImFydGljbGUiLCJ0ZXh0Iiwic3RhcnRzV2l0aCIsImgiLCJzdWJzdHJpbmciLCJsaW5rcyIsImFyciIsImNoZWNrZXIiLCJzdHIiLCJtYXRjaCIsImlkIiwidXJsIiwicHVzaCIsInNsaWNlIiwiaW5kZXgiLCJsZW5ndGgiLCJjaGVja0xpbmsiLCJwIiwiY3JlYXRlVGV4dE5vZGUiLCJhIiwiaHJlZiIsInBhcnNlIiwiYnRuIiwiYm90dCIsImV2ZW50IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInRoZW1lVXBkYXRlIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwidG9nZ2xlIiwidGhlbWUiLCJwZW5kaW5nIiwiY3JlYXRlTWFpbiIsIm1haW4iLCJiYXNlIiwiZ2FtZSIsImZpZWxkIiwid2lkdGgiLCJzaXplIiwiaGVpZ2h0IiwiZ3JpZCIsImhvdmVyIiwicmVzZXQiLCJyZXNldElubmVyIiwicmVzZXRJbWciLCJzb2x1dGlvbiIsInNvbHV0aW9uSW5uZXIiLCJzYXZlIiwic2F2ZUlubmVyIiwic2F2ZUltZyIsImhlYWRlciIsImhlYWRlclRleHQiLCJtb2RlcyIsImlucHV0IiwidHlwZSIsImxhYmVsIiwiaHRtbEZvciIsImNyZWF0ZU1vZGVTZWxlY3RvciIsInRvcCIsInN0YXRzIiwidHVybnMiLCJwb3MiLCJ0aW1lciIsInByb2dyZXNzYmFyIiwiY3JlYXRlU3RhdHMiLCJhdXRvY29tcGxldGUiLCJwbGFjZWhvbGRlciIsInB1enpsZU5hbWUiLCJtZXNzYWdlIiwiY3JlYXRlU2F2ZUZvcm0iLCJjcmVhdGVHYW1lRmllbGQiLCJiZyIsInBsYXllciIsInMiLCJnZXQiLCJtIiwiaXNGaW5pdGUiLCJzbmRJY29uIiwic25kUmFuZ2UiLCJzdGVwIiwibWF4IiwibXV0ZVNvdW5kIiwibXVzSWNvbiIsIm11c1JhbmdlIiwiY2hhbmdlTXVzaWNWb2x1bWUiLCJtdXNpY011dGVkIiwibXVzaWNWb2x1bWUiLCJtdXRlTXVzaWMiLCJjcmVhdGVWb2x1bWVDb250cm9sIiwiY3JlYXRlUGxheWVyIiwiY2hhcnMiLCJzaHJpa2UiLCJidWxsZG9nIiwiY3JlYXRlQ2hhcnMiLCJjcmVhdGVGcm9tVGVtcGxhdGUiLCJjYWxsYmFjayIsInhodHRwIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiaW5uZXJIVE1MIiwicmVzcG9uc2VUZXh0Iiwib3BlbiIsInNlbmQiLCJhc3luYyIsImluaXRVSSIsImNvbnNvbGUiLCJsb2ciLCJ0aGVtZU5hbWUiLCJib2R5IiwiZ2V0VGhlbWVDb2xvcnMiLCJjb2xvcjAwIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJjb2xvcjUwIiwiY29sb3I4MCIsImNvbG9yOTAiLCJjb2xvcjEwMCIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW5pdFBlbmRpbmdDb21wb25lbnRzIiwic3dpdGNoZXIiLCJjaGVja2VkIiwicHJldmVudERlZmF1bHQiLCJkYXJrVGhlbWUiLCJpbml0VGhlbWVTd2l0Y2hlciIsImxvY2F0aW9uIiwicmVwbGFjZSIsImluaXRMYW5ndWFnZVN3aXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==