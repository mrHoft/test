"use strict";(self.webpackChunknonograms=self.webpackChunknonograms||[]).push([[41],{8041:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(1301),c=n(5459),a=n(4770),s=n(3442);const m=new a.Sound,d=new s.Store;function l(e,t,n){n||(m.sound.muted=!1),t&&(m.sound.volume=Number(t)),m.sound.volume>.6?e.className="volume__sound_icon volume-3":m.sound.volume>.3?e.className="volume__sound_icon volume-2":m.sound.volume>0?e.className="volume__sound_icon volume-1":e.className="volume__sound_icon volume-off"}function u(){m.play("dot"),d.set("sound",{volume:m.sound.volume,muted:!1})}function r(){d.set("music",{volume:m.music.volume,muted:!1})}const i=new a.Sound;let _=null,v=0;const p=e=>{if(100===e&&_.textContent.includes("loading")&&(_.textContent=""),_&&!i._playing&&!i.music.muted){v+=1,v>3&&(v=1);const e=".".repeat(v-1);_.textContent=`${e}loading${e}`}},g=e=>{_&&(_.textContent=e)},E=()=>{document.querySelector(".volume__music_icon").classList.add("volume-off"),_.textContent=""};var h=n(7803);const N=new h.Z;function f(){N.mode=this.value}var y=n(9114),b=n(651),k=n(6012);const L=()=>{const e=(new h.Z).lang,t=document.createElement("div");t.className="modal__about hidden";const n=document.createElement("div");n.className="modal__inner";const o=document.createElement("div");o.className="modal__left";const c=document.createElement("div");c.className="modal__right";const a=document.createElement("div");a.className="modal__close hex-btn";const s=document.createElement("div"),m=document.createElement("div");m.className="modal__close_icon",s.append(m),a.append(s),a.addEventListener("click",(()=>t.classList.add("hidden")));const d=document.createElement("h2");d.className="modal__title",d.textContent=k[e].aboutTitle;const l=document.createElement("div");l.className="modal__scroll_wrap";const u=document.createElement("div");u.className="modal__about_descr scrolled",l.append(u),k[e].description.forEach(((e,t)=>{const n=document.createElement("article"),o=document.createElement("div"),c=document.createElement("div");c.className=`modal__about_img0${t+1}`,e.forEach((e=>o.append(function(e){if(e.startsWith("### ")){const t=document.createElement("h3");return t.textContent=e.substring(4),t}const t=function(e){const t=[];return function e(n){const o=n.match(/\[([\w\s\d]+)\]\((https?:\/\/[\w\d./?=#@]+)\)/);if(o){const c=o[1],a=o[2];t.push({text:n.slice(0,o.index),id:c,url:a}),e(n.substring(o.index+c.length+a.length+4))}else t.length&&t.push({text:n})}(e),t.length?t:null}(e);if(t){const e=document.createElement("p");return t.forEach((({text:t,id:n,url:o})=>{if(e.append(document.createTextNode(t)),n){const t=document.createElement("a");t.href=o,t.textContent=n,e.append(t)}})),e}const n=document.createElement("p");return n.textContent=e,n}(e)))),n.append(o,c),u.append(n)}));const r=document.createElement("div");r.className="button",r.textContent="OK",r.addEventListener("click",(()=>t.classList.add("hidden"))),n.append(o,c,a,d,l,r);const i=document.createElement("div");return i.className="modal__bott",t.append(i,n),t.addEventListener("click",(e=>{e.target===e.currentTarget&&e.target.classList.add("hidden")})),t},x=()=>{const e=(new o.Q).name;document.querySelectorAll(".modal__close_icon").forEach((t=>t.classList.toggle("invert","dark"===e))),document.querySelector(".game__reset_icon").classList.toggle("invert","dark"===e),document.querySelector(".game__save_icon").classList.toggle("invert","dark"===e),document.querySelector(".rss__logo").classList.toggle("invert","dark"!==e),document.querySelector(".volume__sound_icon").classList.toggle("invert","dark"!==e),document.querySelector(".volume__music_icon").classList.toggle("invert","dark"!==e),document.querySelector(".bg").classList.toggle("bright","dark"!==e),document.querySelector(".icon_new").classList.toggle("invert","dark"===e),document.querySelector(".icon_random").classList.toggle("invert","dark"===e),document.querySelector(".icon_load").classList.toggle("invert","dark"===e),document.querySelector(".icon_editor").classList.toggle("invert","dark"===e),document.querySelector(".icon_records").classList.toggle("invert","dark"===e),document.querySelector(".icon_about").classList.toggle("invert","dark"===e)},C=new o.Q,S=new s.Store,w=new h.Z;let q=2;function z(){const e=document.createElement("main");e.className="main";const t=document.createElement("div");t.className="base",t.append(function(){const e=document.createElement("div");e.className="game hidden";const t=document.createElement("canvas");t.className="game__field",t.width=c.I.size,t.height=c.I.size,t.textContent="Game field";const n=document.createElement("canvas");n.className="game__grid",n.width=c.I.size,n.height=c.I.size;const o=document.createElement("canvas");o.className="game__hover",o.width=c.I.size,o.height=c.I.size;const a=document.createElement("div");a.className="game__reset hex-btn";const s=document.createElement("div"),m=document.createElement("div");m.className="game__reset_icon",s.append(m),a.append(s);const d=document.createElement("div");d.className="game__solution hex-btn";const l=document.createElement("div");l.textContent="!",d.append(l);const u=document.createElement("div");u.className="game__save hex-btn";const r=document.createElement("div"),i=document.createElement("div");i.className="game__save_icon",r.append(i),u.append(r);const _=document.createElement("div");_.className="game__header";const v=document.createElement("p");v.className="game__header_text hidden",_.append(v,function(){const e=document.createElement("div");return e.className="editor__mode mode hidden",c.I.modes.forEach(((t,n)=>{const o=document.createElement("input");o.className="editor__mode_select mode-select",o.type="radio",o.value=n,o.name="e_mode",o.id=`e_mode${n}`,o.addEventListener("change",f);const c=document.createElement("label");c.textContent=t,c.htmlFor=`e_mode${n}`,e.append(o,c)})),e}());const p=document.createElement("div");p.className="game__left";const g=document.createElement("div");g.className="game__right";const E=document.createElement("div");E.className="game__top";const h=document.createElement("div");return h.className="game__bott",e.append(_,t,n,o,p,g,E,h,a,d,u,function(){const e=document.createElement("div");e.className="game__stats";const t=document.createElement("span");t.className="stats__turns",t.textContent="0/0";const n=document.createElement("span");n.className="stats__pos",n.textContent="0:0";const o=document.createElement("div");o.className="stats__progress";const c=document.createElement("p");c.className="stats__timer",c.textContent="00:00";const a=document.createElement("div");a.className="stats__progress_wrap";const s=document.createElement("div");return s.className="stats__progress_bar",a.append(s),o.append(c,a),e.append(t,o,n),e}(),function(){const e=w.lang,t=document.createElement("form");t.className="editor__save_form hidden";const n=document.createElement("div");n.className="editor__save_name";const o=document.createElement("input");o.name="name",o.type="text",o.autocomplete="off",o.placeholder="",o.className="editor__save_name-text";const c=document.createElement("label");c.className="editor__save_name-label",c.textContent=k[e].puzzleName,n.append(o,c);const a=document.createElement("button");a.type="submit",a.className="editor__save_btn button",a.textContent=k[e].save;const s=document.createElement("div");return s.className="editor__save_message hidden",t.append(n,a,s),t}()),e}());const n=document.createElement("div");return n.className="bg",e.append(n,(0,y.wp)(),function(){const e=document.createElement("div");e.className="player__audio";const t=document.createElement("p");return t.className="player__title",_=t,i.readyCallback=p,i.startPlayCallback=g,i.exceptionCallback=E,e.append(function(){const e=d.get("sound"),t=d.get("music");e&&(Number.isFinite(e.volume)&&(m.sound.volume=e.volume),"boolean"==typeof e.muted&&(m.sound.muted=e.muted)),t&&(Number.isFinite(t.volume)&&(m.music.volume=t.volume),"boolean"==typeof t.muted&&(m.music.muted=t.muted));const n=document.createElement("div");n.className="volume";const o=document.createElement("div");o.className="volume__sound";const c=document.createElement("div");c.className="volume__sound_icon";const a=document.createElement("input");a.className="volume__range",a.type="range",a.step="0.05",a.value=m.sound.volume,a.max="1",a.addEventListener("input",(()=>l(c,a.value))),a.addEventListener("mouseup",u),c.addEventListener("click",(()=>{return e=c,m.sound.muted=!m.sound.muted,m.sound.muted?e.className="volume__sound_icon volume-off":l(e),void d.set("sound.muted",m.sound.muted);var e})),o.append(c,a);const s=document.createElement("div");s.className="volume__music";const i=document.createElement("div");i.className="volume__music_icon";const _=document.createElement("input");return _.className="volume__range",_.type="range",_.step="0.05",_.value=m.music.volume,_.max="1",_.addEventListener("input",(()=>{return e=i,t=_.value,m.music.muted&&(m.musicMuted=!1),t&&(m.musicVolume=Number(t)),void e.classList.toggle("volume-off",0===m.music.volume);var e,t})),_.addEventListener("mouseup",r),i.addEventListener("click",(()=>{return e=i,m.musicMuted=!m.music.muted,e.classList.toggle("volume-off",m.music.muted),void d.set("music.muted",m.music.muted);var e})),s.append(i,_),n.append(o,s),l(c,m.sound.volume,!0),m.sound.muted&&(c.className="volume__sound_icon volume-off"),i.classList.toggle("volume-off",0===m.music.volume||m.music.muted),n}(),_),e}(),t,function(){const e=document.createElement("div");e.className="chars";const t=document.createElement("div");t.className="chars__shrike";const n=document.createElement("div");n.className="chars__bulldog";const o=document.createElement("blockquote");o.className="speech__shrike hidden",t.append(o);const c=document.createElement("blockquote");return c.className="speech__bulldog hidden",n.append(c),e.append(t,n),e}()),e}function P(e,t=(()=>{})){const n=document.createElement(e);n.className=e;const o=new XMLHttpRequest;return o.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(n.innerHTML=this.responseText,q-=1,q<=0&&t()),404===this.status&&(n.innerHTML="Page not found."))},o.open("GET",`./template/${e}.tmpl`,!0),o.send(),n}async function T(){const e=S.get("lang")??"en";w.lang=e;const t=S.get("theme");document.body.classList.toggle("theme__dark","dark"===t);const n=e=>{C.color00=getComputedStyle(document.body).getPropertyValue("--color00"),C.color50=getComputedStyle(document.body).getPropertyValue("--color50"),C.color80=getComputedStyle(document.body).getPropertyValue("--color80"),C.color90=getComputedStyle(document.body).getPropertyValue("--color90"),C.color100=getComputedStyle(document.body).getPropertyValue("--color100"),C.name=e};return new Promise((o=>{const c=()=>{(()=>{const e=document.querySelector(".theme__switcher");e.checked="dark"===t,n(t),e.addEventListener("change",(e=>{e.preventDefault();const t=e.currentTarget.checked;document.body.classList.toggle("theme__dark",t),n(t?"dark":"light"),S.set("theme",t?"dark":"light"),x()}))})(),x(),(()=>{const t=document.querySelector(".language__icon"),n=document.querySelector(".language__select");n.value=e,t.className=`language__icon ${e}`,n.addEventListener("change",(e=>{e.preventDefault(),S.set("lang",e.target.value),location.replace(location.href)}))})(),o()};document.body.append(P("header",c),z(),P("footer",c),(0,y.kN)(),(0,y.k3)(),(0,b.B)(),L()),(0,y.rG)()}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixRQUFVSixpQkFBaUIzSSxTQUFTd0ksTUFBTUksaUJBQWlCLGFBQ2pFbEYsRUFBTXNGLFNBQVdMLGlCQUFpQjNJLFNBQVN3SSxNQUFNSSxpQkFBaUIsY0FDbEVsRixFQUFNNUQsS0FBT0EsR0ErQmYsT0FBTyxJQUFJbUosU0FBUUMsSUFDakIsTUFBTUMsRUFBd0IsS0E3Qk4sTUFDeEIsTUFBTUMsRUFBV3BKLFNBQVNDLGNBQWMsb0JBQ3hDbUosRUFBU0MsUUFBd0IsU0FBZGQsRUFDbkJFLEVBQWVGLEdBRWZhLEVBQVNqSSxpQkFBaUIsVUFBVWdDLElBQ2xDQSxFQUFNbUcsaUJBQ04sTUFBTUMsRUFBWXBHLEVBQU1FLGNBQWNnRyxRQUN0Q3JKLFNBQVN3SSxLQUFLdEksVUFBVXVELE9BQU8sY0FBZThGLEdBQzlDZCxFQUFlYyxFQUFZLE9BQVMsU0FDcEMsRUFBTXRLLElBQUksUUFBU3NLLEVBQVksT0FBUyxTQUN4Q2pHLEdBQVksR0FDYixFQWtCQ2tHLEdBQ0FsRyxJQWhCeUIsTUFDM0IsTUFBTS9FLEVBQU95QixTQUFTQyxjQUFjLG1CQUM5Qm1KLEVBQVdwSixTQUFTQyxjQUFjLHFCQUN4Q21KLEVBQVM1SyxNQUFRaUMsRUFDakJsQyxFQUFLTyxVQUFZLGtCQUFrQjJCLElBRW5DMkksRUFBU2pJLGlCQUFpQixVQUFVZ0MsSUFDbENBLEVBQU1tRyxpQkFDTixFQUFNckssSUFBSSxPQUFRa0UsRUFBTUMsT0FBTzVFLE9BQy9CaUwsU0FBU0MsUUFBUUQsU0FBUzFHLEtBQUksR0FDL0IsRUFPQzRHLEdBQ0FULEdBQVEsRUFHVmxKLFNBQVN3SSxLQUFLdEgsT0FDWndHLEVBQW1CLFNBQVV5QixHQUM3QnZGLElBQ0E4RCxFQUFtQixTQUFVeUIsSUFDN0IsV0FDQSxXQUNBLFNBQ0EzSSxNQUdGLFNBQVMsR0FFYixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS92b2x1bWUuanMiLCJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS9tb2RlLmpzIiwid2VicGFjazovL25vbm9ncmFtcy8uL3NyYy9tb2R1bGUvYWJvdXQuanMiLCJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS9wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vbm9ub2dyYW1zLy4vc3JjL21vZHVsZS90aGVtZVVwZGF0ZS5qcyIsIndlYnBhY2s6Ly9ub25vZ3JhbXMvLi9zcmMvbW9kdWxlL3VpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvdW5kIH0gZnJvbSAnLi4vdXRpbHMvc291bmQnXG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gJy4uL3V0aWxzL3N0b3JlJ1xuXG5jb25zdCBzbmQgPSBuZXcgU291bmQoKVxuY29uc3Qgc3RvcmUgPSBuZXcgU3RvcmUoKVxuXG5mdW5jdGlvbiBjaGFuZ2VTb3VuZFZvbHVtZShpY29uLCB2YWx1ZSwgaW5pdCkge1xuICBpZiAoIWluaXQpIHNuZC5zb3VuZC5tdXRlZCA9IGZhbHNlXG4gIGlmICh2YWx1ZSkgc25kLnNvdW5kLnZvbHVtZSA9IE51bWJlcih2YWx1ZSlcbiAgaWYgKHNuZC5zb3VuZC52b2x1bWUgPiAwLjYpIHtcbiAgICBpY29uLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3NvdW5kX2ljb24gdm9sdW1lLTMnXG4gIH0gZWxzZSBpZiAoc25kLnNvdW5kLnZvbHVtZSA+IDAuMykge1xuICAgIGljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtMidcbiAgfSBlbHNlIGlmIChzbmQuc291bmQudm9sdW1lID4gMCkge1xuICAgIGljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtMSdcbiAgfSBlbHNlIHtcbiAgICBpY29uLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3NvdW5kX2ljb24gdm9sdW1lLW9mZidcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VTb3VuZFZvbHVtZUVuZCgpIHtcbiAgc25kLnBsYXkoJ2RvdCcpXG4gIHN0b3JlLnNldCgnc291bmQnLCB7IHZvbHVtZTogc25kLnNvdW5kLnZvbHVtZSwgbXV0ZWQ6IGZhbHNlIH0pXG59XG5cbmZ1bmN0aW9uIGNoYW5nZU11c2ljVm9sdW1lRW5kKCkge1xuICBzdG9yZS5zZXQoJ211c2ljJywgeyB2b2x1bWU6IHNuZC5tdXNpYy52b2x1bWUsIG11dGVkOiBmYWxzZSB9KVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VNdXNpY1ZvbHVtZShpY29uLCB2YWx1ZSkge1xuICBpZiAoc25kLm11c2ljLm11dGVkKSBzbmQubXVzaWNNdXRlZCA9IGZhbHNlXG4gIGlmICh2YWx1ZSkgc25kLm11c2ljVm9sdW1lID0gTnVtYmVyKHZhbHVlKVxuICBpY29uLmNsYXNzTGlzdC50b2dnbGUoJ3ZvbHVtZS1vZmYnLCBzbmQubXVzaWMudm9sdW1lID09PSAwKVxufVxuXG5mdW5jdGlvbiBtdXRlU291bmQoaWNvbikge1xuICBzbmQuc291bmQubXV0ZWQgPSAhc25kLnNvdW5kLm11dGVkXG4gIGlmIChzbmQuc291bmQubXV0ZWQpIGljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbiB2b2x1bWUtb2ZmJ1xuICBlbHNlIGNoYW5nZVNvdW5kVm9sdW1lKGljb24pXG4gIHN0b3JlLnNldCgnc291bmQubXV0ZWQnLCBzbmQuc291bmQubXV0ZWQpXG59XG5cbmZ1bmN0aW9uIG11dGVNdXNpYyhpY29uKSB7XG4gIHNuZC5tdXNpY011dGVkID0gIXNuZC5tdXNpYy5tdXRlZFxuICBpY29uLmNsYXNzTGlzdC50b2dnbGUoJ3ZvbHVtZS1vZmYnLCBzbmQubXVzaWMubXV0ZWQpXG4gIHN0b3JlLnNldCgnbXVzaWMubXV0ZWQnLCBzbmQubXVzaWMubXV0ZWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWb2x1bWVDb250cm9sKCkge1xuICBjb25zdCBzID0gc3RvcmUuZ2V0KCdzb3VuZCcpXG4gIGNvbnN0IG0gPSBzdG9yZS5nZXQoJ211c2ljJylcbiAgaWYgKHMpIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHMudm9sdW1lKSkgc25kLnNvdW5kLnZvbHVtZSA9IHMudm9sdW1lXG4gICAgaWYgKHR5cGVvZiBzLm11dGVkID09PSAnYm9vbGVhbicpIHNuZC5zb3VuZC5tdXRlZCA9IHMubXV0ZWRcbiAgfVxuICBpZiAobSkge1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobS52b2x1bWUpKSBzbmQubXVzaWMudm9sdW1lID0gbS52b2x1bWVcbiAgICBpZiAodHlwZW9mIG0ubXV0ZWQgPT09ICdib29sZWFuJykgc25kLm11c2ljLm11dGVkID0gbS5tdXRlZFxuICB9XG5cbiAgY29uc3Qgdm9sdW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgdm9sdW1lLmNsYXNzTmFtZSA9ICd2b2x1bWUnXG5cbiAgY29uc3Qgc291bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzb3VuZC5jbGFzc05hbWUgPSAndm9sdW1lX19zb3VuZCdcbiAgY29uc3Qgc25kSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNuZEljb24uY2xhc3NOYW1lID0gJ3ZvbHVtZV9fc291bmRfaWNvbidcbiAgY29uc3Qgc25kUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gIHNuZFJhbmdlLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3JhbmdlJ1xuICBzbmRSYW5nZS50eXBlID0gJ3JhbmdlJ1xuICBzbmRSYW5nZS5zdGVwID0gJzAuMDUnXG4gIHNuZFJhbmdlLnZhbHVlID0gc25kLnNvdW5kLnZvbHVtZVxuICBzbmRSYW5nZS5tYXggPSAnMSdcbiAgc25kUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBjaGFuZ2VTb3VuZFZvbHVtZShzbmRJY29uLCBzbmRSYW5nZS52YWx1ZSkpXG4gIHNuZFJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBjaGFuZ2VTb3VuZFZvbHVtZUVuZClcbiAgc25kSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG11dGVTb3VuZChzbmRJY29uKSlcbiAgc291bmQuYXBwZW5kKHNuZEljb24sIHNuZFJhbmdlKVxuXG4gIGNvbnN0IG11c2ljID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbXVzaWMuY2xhc3NOYW1lID0gJ3ZvbHVtZV9fbXVzaWMnXG4gIGNvbnN0IG11c0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtdXNJY29uLmNsYXNzTmFtZSA9ICd2b2x1bWVfX211c2ljX2ljb24nXG4gIGNvbnN0IG11c1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICBtdXNSYW5nZS5jbGFzc05hbWUgPSAndm9sdW1lX19yYW5nZSdcbiAgbXVzUmFuZ2UudHlwZSA9ICdyYW5nZSdcbiAgbXVzUmFuZ2Uuc3RlcCA9ICcwLjA1J1xuICBtdXNSYW5nZS52YWx1ZSA9IHNuZC5tdXNpYy52b2x1bWVcbiAgbXVzUmFuZ2UubWF4ID0gJzEnXG4gIG11c1JhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gY2hhbmdlTXVzaWNWb2x1bWUobXVzSWNvbiwgbXVzUmFuZ2UudmFsdWUpKVxuICBtdXNSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgY2hhbmdlTXVzaWNWb2x1bWVFbmQpXG4gIG11c0ljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtdXRlTXVzaWMobXVzSWNvbikpXG4gIG11c2ljLmFwcGVuZChtdXNJY29uLCBtdXNSYW5nZSlcblxuICB2b2x1bWUuYXBwZW5kKHNvdW5kLCBtdXNpYylcblxuICBjaGFuZ2VTb3VuZFZvbHVtZShzbmRJY29uLCBzbmQuc291bmQudm9sdW1lLCB0cnVlKVxuICBpZiAoc25kLnNvdW5kLm11dGVkKSBzbmRJY29uLmNsYXNzTmFtZSA9ICd2b2x1bWVfX3NvdW5kX2ljb24gdm9sdW1lLW9mZidcbiAgbXVzSWNvbi5jbGFzc0xpc3QudG9nZ2xlKCd2b2x1bWUtb2ZmJywgc25kLm11c2ljLnZvbHVtZSA9PT0gMCB8fCBzbmQubXVzaWMubXV0ZWQpXG5cbiAgcmV0dXJuIHZvbHVtZVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlVm9sdW1lQ29udHJvbCB9IGZyb20gJy4vdm9sdW1lJ1xuaW1wb3J0IHsgU291bmQgfSBmcm9tICcuLi91dGlscy9zb3VuZCdcblxuY29uc3Qgc291bmQgPSBuZXcgU291bmQoKVxubGV0IHRpdGxlID0gbnVsbFxubGV0IHByb2dyZXNzID0gMFxuXG5jb25zdCByZWFkeUNhbGxiYWNrID0gbG9hZGVkID0+IHtcbiAgaWYgKGxvYWRlZCA9PT0gMTAwICYmIHRpdGxlLnRleHRDb250ZW50LmluY2x1ZGVzKCdsb2FkaW5nJykpIHRpdGxlLnRleHRDb250ZW50ID0gJydcbiAgaWYgKHRpdGxlICYmICFzb3VuZC5fcGxheWluZyAmJiAhc291bmQubXVzaWMubXV0ZWQpIHtcbiAgICBwcm9ncmVzcyArPSAxXG4gICAgaWYgKHByb2dyZXNzID4gMykgcHJvZ3Jlc3MgPSAxXG4gICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQocHJvZ3Jlc3MgLSAxKVxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gYCR7ZG90c31sb2FkaW5nJHtkb3RzfWBcbiAgfVxufVxuXG5jb25zdCBzdGFydFBsYXlDYWxsYmFjayA9IG5hbWUgPT4ge1xuICBpZiAodGl0bGUpIHtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IG5hbWVcbiAgfVxufVxuXG5jb25zdCBleGNlcHRpb25DYWxsYmFjayA9ICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZV9fbXVzaWNfaWNvbicpLmNsYXNzTGlzdC5hZGQoJ3ZvbHVtZS1vZmYnKVxuICB0aXRsZS50ZXh0Q29udGVudCA9ICcnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQbGF5ZXIoKSB7XG4gIGNvbnN0IHBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHBsYXllci5jbGFzc05hbWUgPSAncGxheWVyX19hdWRpbydcbiAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgZmllbGQuY2xhc3NOYW1lID0gJ3BsYXllcl9fdGl0bGUnXG4gIHRpdGxlID0gZmllbGRcblxuICBzb3VuZC5yZWFkeUNhbGxiYWNrID0gcmVhZHlDYWxsYmFja1xuICBzb3VuZC5zdGFydFBsYXlDYWxsYmFjayA9IHN0YXJ0UGxheUNhbGxiYWNrXG4gIHNvdW5kLmV4Y2VwdGlvbkNhbGxiYWNrID0gZXhjZXB0aW9uQ2FsbGJhY2tcblxuICBwbGF5ZXIuYXBwZW5kKGNyZWF0ZVZvbHVtZUNvbnRyb2woKSwgdGl0bGUpXG4gIHJldHVybiBwbGF5ZXJcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vdXRpbHMvc3RhdGUnXG5pbXBvcnQgeyBHQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnXG5cbmNvbnN0IHN0YXRlID0gbmV3IFN0YXRlKClcblxuZnVuY3Rpb24gaGFuZGxlTW9kZUNoYW5nZSgpIHtcbiAgLy8gY29uc29sZS5sb2coJ01vZGU6Jyx0aGlzLnZhbHVlKVxuICBzdGF0ZS5tb2RlID0gdGhpcy52YWx1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9kZVNlbGVjdG9yKCkge1xuICBjb25zdCBtb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbW9kZS5jbGFzc05hbWUgPSAnZWRpdG9yX19tb2RlIG1vZGUgaGlkZGVuJ1xuICBHQU1FLm1vZGVzLmZvckVhY2goKG5hbWUsIGkpID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICBpbnB1dC5jbGFzc05hbWUgPSAnZWRpdG9yX19tb2RlX3NlbGVjdCBtb2RlLXNlbGVjdCdcbiAgICBpbnB1dC50eXBlID0gJ3JhZGlvJ1xuICAgIGlucHV0LnZhbHVlID0gaVxuICAgIGlucHV0Lm5hbWUgPSAnZV9tb2RlJ1xuICAgIGlucHV0LmlkID0gYGVfbW9kZSR7aX1gXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlTW9kZUNoYW5nZSlcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJylcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9IG5hbWVcbiAgICBsYWJlbC5odG1sRm9yID0gYGVfbW9kZSR7aX1gXG4gICAgbW9kZS5hcHBlbmQoaW5wdXQsIGxhYmVsKVxuICB9KVxuICByZXR1cm4gbW9kZVxufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi91dGlscy9zdGF0ZSdcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9wYXJzZXInXG5pbXBvcnQgTG9jIGZyb20gJy4uL2RhdGEvbG9jLmpzb24nIGFzc2VydCB7IHR5cGU6ICdqc29uJyB9XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2RhbEFib3V0ID0gKCkgPT4ge1xuICBjb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpXG4gIGNvbnN0IGxhbmcgPSBzdGF0ZS5sYW5nXG5cbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWxfX2Fib3V0IGhpZGRlbidcbiAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBpbm5lci5jbGFzc05hbWUgPSAnbW9kYWxfX2lubmVyJ1xuICBjb25zdCBsZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbGVmdC5jbGFzc05hbWUgPSAnbW9kYWxfX2xlZnQnXG4gIGNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgcmlnaHQuY2xhc3NOYW1lID0gJ21vZGFsX19yaWdodCdcblxuICBjb25zdCBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNsb3NlLmNsYXNzTmFtZSA9ICdtb2RhbF9fY2xvc2UgaGV4LWJ0bidcbiAgY29uc3QgY2xvc2VJbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnN0IGNsb3NlSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY2xvc2VJbWcuY2xhc3NOYW1lID0gJ21vZGFsX19jbG9zZV9pY29uJ1xuICBjbG9zZUlubmVyLmFwcGVuZChjbG9zZUltZylcbiAgY2xvc2UuYXBwZW5kKGNsb3NlSW5uZXIpXG4gIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpXG5cbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpXG4gIHRpdGxlLmNsYXNzTmFtZSA9ICdtb2RhbF9fdGl0bGUnXG4gIHRpdGxlLnRleHRDb250ZW50ID0gTG9jW2xhbmddLmFib3V0VGl0bGVcblxuICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgd3JhcC5jbGFzc05hbWUgPSAnbW9kYWxfX3Njcm9sbF93cmFwJ1xuICBjb25zdCBkZXNjciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGRlc2NyLmNsYXNzTmFtZSA9ICdtb2RhbF9fYWJvdXRfZGVzY3Igc2Nyb2xsZWQnXG4gIHdyYXAuYXBwZW5kKGRlc2NyKVxuXG4gIExvY1tsYW5nXS5kZXNjcmlwdGlvbi5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgIGNvbnN0IGFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJylcbiAgICBjb25zdCBsZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgcmlnaHQuY2xhc3NOYW1lID0gYG1vZGFsX19hYm91dF9pbWcwJHtpICsgMX1gXG4gICAgYmxvY2suZm9yRWFjaCh0ZXh0ID0+IGxlZnQuYXBwZW5kKHBhcnNlKHRleHQpKSlcbiAgICBhcnRpY2xlLmFwcGVuZChsZWZ0LCByaWdodClcbiAgICBkZXNjci5hcHBlbmQoYXJ0aWNsZSlcbiAgfSlcblxuICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidG4uY2xhc3NOYW1lID0gJ2J1dHRvbidcbiAgYnRuLnRleHRDb250ZW50ID0gJ09LJ1xuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKSlcblxuICBpbm5lci5hcHBlbmQobGVmdCwgcmlnaHQsIGNsb3NlLCB0aXRsZSwgd3JhcCwgYnRuKVxuXG4gIGNvbnN0IGJvdHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBib3R0LmNsYXNzTmFtZSA9ICdtb2RhbF9fYm90dCdcblxuICBtb2RhbC5hcHBlbmQoYm90dCwgaW5uZXIpXG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG1vZGFsXG59XG4iLCJmdW5jdGlvbiBjaGVja0xpbmsodGV4dCkge1xuICBjb25zdCBhcnIgPSBbXVxuICBmdW5jdGlvbiBjaGVja2VyKHN0cikge1xuICAgIGNvbnN0IG1hdGNoID0gc3RyLm1hdGNoKC9cXFsoW1xcd1xcc1xcZF0rKVxcXVxcKChodHRwcz86XFwvXFwvW1xcd1xcZC4vPz0jQF0rKVxcKS8pXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBpZCA9IG1hdGNoWzFdXG4gICAgICBjb25zdCB1cmwgPSBtYXRjaFsyXVxuICAgICAgYXJyLnB1c2goeyB0ZXh0OiBzdHIuc2xpY2UoMCwgbWF0Y2guaW5kZXgpLCBpZCwgdXJsIH0pXG4gICAgICBjaGVja2VyKHN0ci5zdWJzdHJpbmcobWF0Y2guaW5kZXggKyBpZC5sZW5ndGggKyB1cmwubGVuZ3RoICsgNCkpXG4gICAgfSBlbHNlIGlmIChhcnIubGVuZ3RoKSBhcnIucHVzaCh7IHRleHQ6IHN0ciB9KVxuICB9XG4gIGNoZWNrZXIodGV4dClcbiAgcmV0dXJuIGFyci5sZW5ndGggPyBhcnIgOiBudWxsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZSh0ZXh0KSB7XG4gIGlmICh0ZXh0LnN0YXJ0c1dpdGgoJyMjIyAnKSkge1xuICAgIGNvbnN0IGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpXG4gICAgaC50ZXh0Q29udGVudCA9IHRleHQuc3Vic3RyaW5nKDQpXG4gICAgcmV0dXJuIGhcbiAgfVxuXG4gIGNvbnN0IGxpbmtzID0gY2hlY2tMaW5rKHRleHQpXG4gIGlmIChsaW5rcykge1xuICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICBsaW5rcy5mb3JFYWNoKCh7IHRleHQsIGlkLCB1cmwgfSkgPT4ge1xuICAgICAgcC5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpXG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgICBhLmhyZWYgPSB1cmxcbiAgICAgICAgYS50ZXh0Q29udGVudCA9IGlkXG4gICAgICAgIHAuYXBwZW5kKGEpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcFxuICB9XG5cbiAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICBwLnRleHRDb250ZW50ID0gdGV4dFxuICByZXR1cm4gcFxufVxuIiwiaW1wb3J0IHsgVGhlbWUgfSBmcm9tICcuLi91dGlscy90aGVtZSdcblxuZXhwb3J0IGNvbnN0IHRoZW1lVXBkYXRlID0gKCkgPT4ge1xuICBjb25zdCB0aGVtZSA9IG5ldyBUaGVtZSgpXG4gIGNvbnN0IG5hbWUgPSB0aGVtZS5uYW1lXG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19jbG9zZV9pY29uJykuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpKVxuXG4gIC8vIEdhbWVcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVfX3Jlc2V0X2ljb24nKS5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lX19zYXZlX2ljb24nKS5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpXG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJzc19fbG9nbycpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgIT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZV9fc291bmRfaWNvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgIT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZV9fbXVzaWNfaWNvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgIT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnJykuY2xhc3NMaXN0LnRvZ2dsZSgnYnJpZ2h0JywgbmFtZSAhPT0gJ2RhcmsnKVxuXG4gIC8vIFNpZGUgbWVudVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9uZXcnKS5jbGFzc0xpc3QudG9nZ2xlKCdpbnZlcnQnLCBuYW1lID09PSAnZGFyaycpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pY29uX3JhbmRvbScpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljb25fbG9hZCcpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljb25fZWRpdG9yJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSA9PT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9yZWNvcmRzJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52ZXJ0JywgbmFtZSA9PT0gJ2RhcmsnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9hYm91dCcpLmNsYXNzTGlzdC50b2dnbGUoJ2ludmVydCcsIG5hbWUgPT09ICdkYXJrJylcbn1cbiIsImltcG9ydCB7IFRoZW1lIH0gZnJvbSAnLi4vdXRpbHMvdGhlbWUnXG5pbXBvcnQgeyBHQU1FIH0gZnJvbSAnLi4vbW9kdWxlL2NvbnN0YW50cydcbmltcG9ydCB7IGNyZWF0ZVBsYXllciB9IGZyb20gJy4vcGxheWVyJ1xuaW1wb3J0IHsgY3JlYXRlTW9kZVNlbGVjdG9yIH0gZnJvbSAnLi9tb2RlJ1xuaW1wb3J0IHsgaW5pdE1lbnUsIGNyZWF0ZU1vZGFsR2FtZSwgY3JlYXRlTW9kYWxSZXN1bHRzLCBjcmVhdGVTaWRlTWVudSB9IGZyb20gJy4vbWVudSdcbmltcG9ydCB7IGNyZWF0ZU1vZGFsUmVjb3JkcyB9IGZyb20gJy4vcmVjb3JkcydcbmltcG9ydCB7IGNyZWF0ZU1vZGFsQWJvdXQgfSBmcm9tICcuL2Fib3V0J1xuaW1wb3J0IHsgdGhlbWVVcGRhdGUgfSBmcm9tICcuL3RoZW1lVXBkYXRlJ1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi91dGlscy9zdGF0ZSdcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnLi4vdXRpbHMvc3RvcmUnXG5pbXBvcnQgTG9jIGZyb20gJy4uL2RhdGEvbG9jLmpzb24nIGFzc2VydCB7IHR5cGU6ICdqc29uJyB9XG5cbmNvbnN0IHRoZW1lID0gbmV3IFRoZW1lKClcbmNvbnN0IHN0b3JlID0gbmV3IFN0b3JlKClcbmNvbnN0IHN0YXRlID0gbmV3IFN0YXRlKClcbmxldCBwZW5kaW5nID0gMlxuXG5mdW5jdGlvbiBjcmVhdGVDaGFycygpIHtcbiAgY29uc3QgY2hhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjaGFycy5jbGFzc05hbWUgPSAnY2hhcnMnXG4gIGNvbnN0IGxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBsZWZ0LmNsYXNzTmFtZSA9ICdjaGFyc19fc2hyaWtlJ1xuICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHJpZ2h0LmNsYXNzTmFtZSA9ICdjaGFyc19fYnVsbGRvZydcblxuICBjb25zdCBzaHJpa2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJylcbiAgc2hyaWtlLmNsYXNzTmFtZSA9ICdzcGVlY2hfX3NocmlrZSBoaWRkZW4nXG4gIGxlZnQuYXBwZW5kKHNocmlrZSlcbiAgY29uc3QgYnVsbGRvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jsb2NrcXVvdGUnKVxuICBidWxsZG9nLmNsYXNzTmFtZSA9ICdzcGVlY2hfX2J1bGxkb2cgaGlkZGVuJ1xuICByaWdodC5hcHBlbmQoYnVsbGRvZylcblxuICBjaGFycy5hcHBlbmQobGVmdCwgcmlnaHQpXG4gIHJldHVybiBjaGFyc1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdGF0cygpIHtcbiAgY29uc3Qgc3RhdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzdGF0cy5jbGFzc05hbWUgPSAnZ2FtZV9fc3RhdHMnXG5cbiAgY29uc3QgdHVybnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgdHVybnMuY2xhc3NOYW1lID0gJ3N0YXRzX190dXJucydcbiAgdHVybnMudGV4dENvbnRlbnQgPSAnMC8wJ1xuXG4gIGNvbnN0IHBvcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICBwb3MuY2xhc3NOYW1lID0gJ3N0YXRzX19wb3MnXG4gIHBvcy50ZXh0Q29udGVudCA9ICcwOjAnXG5cbiAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHdyYXAuY2xhc3NOYW1lID0gJ3N0YXRzX19wcm9ncmVzcydcblxuICBjb25zdCB0aW1lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICB0aW1lci5jbGFzc05hbWUgPSAnc3RhdHNfX3RpbWVyJ1xuICB0aW1lci50ZXh0Q29udGVudCA9ICcwMDowMCdcblxuICBjb25zdCBwcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHByb2dyZXNzLmNsYXNzTmFtZSA9ICdzdGF0c19fcHJvZ3Jlc3Nfd3JhcCdcbiAgY29uc3QgcHJvZ3Jlc3NiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBwcm9ncmVzc2Jhci5jbGFzc05hbWUgPSAnc3RhdHNfX3Byb2dyZXNzX2JhcidcbiAgcHJvZ3Jlc3MuYXBwZW5kKHByb2dyZXNzYmFyKVxuXG4gIHdyYXAuYXBwZW5kKHRpbWVyLCBwcm9ncmVzcylcblxuICBzdGF0cy5hcHBlbmQodHVybnMsIHdyYXAsIHBvcylcbiAgcmV0dXJuIHN0YXRzXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdhbWVGaWVsZCgpIHtcbiAgY29uc3QgZ2FtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGdhbWUuY2xhc3NOYW1lID0gJ2dhbWUgaGlkZGVuJ1xuXG4gIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgZmllbGQuY2xhc3NOYW1lID0gJ2dhbWVfX2ZpZWxkJ1xuICBmaWVsZC53aWR0aCA9IEdBTUUuc2l6ZVxuICBmaWVsZC5oZWlnaHQgPSBHQU1FLnNpemVcbiAgZmllbGQudGV4dENvbnRlbnQgPSAnR2FtZSBmaWVsZCdcblxuICBjb25zdCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgZ3JpZC5jbGFzc05hbWUgPSAnZ2FtZV9fZ3JpZCdcbiAgZ3JpZC53aWR0aCA9IEdBTUUuc2l6ZVxuICBncmlkLmhlaWdodCA9IEdBTUUuc2l6ZVxuXG4gIGNvbnN0IGhvdmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgaG92ZXIuY2xhc3NOYW1lID0gJ2dhbWVfX2hvdmVyJ1xuICBob3Zlci53aWR0aCA9IEdBTUUuc2l6ZVxuICBob3Zlci5oZWlnaHQgPSBHQU1FLnNpemVcblxuICBjb25zdCByZXNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHJlc2V0LmNsYXNzTmFtZSA9ICdnYW1lX19yZXNldCBoZXgtYnRuJ1xuICBjb25zdCByZXNldElubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29uc3QgcmVzZXRJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICByZXNldEltZy5jbGFzc05hbWUgPSAnZ2FtZV9fcmVzZXRfaWNvbidcbiAgcmVzZXRJbm5lci5hcHBlbmQocmVzZXRJbWcpXG4gIHJlc2V0LmFwcGVuZChyZXNldElubmVyKVxuXG4gIGNvbnN0IHNvbHV0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc29sdXRpb24uY2xhc3NOYW1lID0gJ2dhbWVfX3NvbHV0aW9uIGhleC1idG4nXG4gIGNvbnN0IHNvbHV0aW9uSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzb2x1dGlvbklubmVyLnRleHRDb250ZW50ID0gJyEnXG4gIHNvbHV0aW9uLmFwcGVuZChzb2x1dGlvbklubmVyKVxuXG4gIGNvbnN0IHNhdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzYXZlLmNsYXNzTmFtZSA9ICdnYW1lX19zYXZlIGhleC1idG4nXG4gIGNvbnN0IHNhdmVJbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnN0IHNhdmVJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzYXZlSW1nLmNsYXNzTmFtZSA9ICdnYW1lX19zYXZlX2ljb24nXG4gIHNhdmVJbm5lci5hcHBlbmQoc2F2ZUltZylcbiAgc2F2ZS5hcHBlbmQoc2F2ZUlubmVyKVxuXG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGhlYWRlci5jbGFzc05hbWUgPSAnZ2FtZV9faGVhZGVyJ1xuICBjb25zdCBoZWFkZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gIGhlYWRlclRleHQuY2xhc3NOYW1lID0gJ2dhbWVfX2hlYWRlcl90ZXh0IGhpZGRlbidcbiAgaGVhZGVyLmFwcGVuZChoZWFkZXJUZXh0LCBjcmVhdGVNb2RlU2VsZWN0b3IoKSlcblxuICBjb25zdCBsZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbGVmdC5jbGFzc05hbWUgPSAnZ2FtZV9fbGVmdCdcbiAgY29uc3QgcmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICByaWdodC5jbGFzc05hbWUgPSAnZ2FtZV9fcmlnaHQnXG4gIGNvbnN0IHRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHRvcC5jbGFzc05hbWUgPSAnZ2FtZV9fdG9wJ1xuICBjb25zdCBib3R0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYm90dC5jbGFzc05hbWUgPSAnZ2FtZV9fYm90dCdcblxuICBnYW1lLmFwcGVuZChoZWFkZXIsIGZpZWxkLCBncmlkLCBob3ZlciwgbGVmdCwgcmlnaHQsIHRvcCwgYm90dCwgcmVzZXQsIHNvbHV0aW9uLCBzYXZlLCBjcmVhdGVTdGF0cygpLCBjcmVhdGVTYXZlRm9ybSgpKVxuICByZXR1cm4gZ2FtZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTYXZlRm9ybSgpIHtcbiAgY29uc3QgbGFuZyA9IHN0YXRlLmxhbmdcblxuICBjb25zdCBzYXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXG4gIHNhdmUuY2xhc3NOYW1lID0gJ2VkaXRvcl9fc2F2ZV9mb3JtIGhpZGRlbidcblxuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbmFtZS5jbGFzc05hbWUgPSAnZWRpdG9yX19zYXZlX25hbWUnXG5cbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gIGlucHV0Lm5hbWUgPSAnbmFtZSdcbiAgaW5wdXQudHlwZSA9ICd0ZXh0J1xuICBpbnB1dC5hdXRvY29tcGxldGUgPSAnb2ZmJ1xuICBpbnB1dC5wbGFjZWhvbGRlciA9ICcnXG4gIGlucHV0LmNsYXNzTmFtZSA9ICdlZGl0b3JfX3NhdmVfbmFtZS10ZXh0J1xuXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICBsYWJlbC5jbGFzc05hbWUgPSAnZWRpdG9yX19zYXZlX25hbWUtbGFiZWwnXG4gIGxhYmVsLnRleHRDb250ZW50ID0gTG9jW2xhbmddLnB1enpsZU5hbWVcblxuICBuYW1lLmFwcGVuZChpbnB1dCwgbGFiZWwpXG5cbiAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgYnRuLnR5cGUgPSAnc3VibWl0J1xuICBidG4uY2xhc3NOYW1lID0gJ2VkaXRvcl9fc2F2ZV9idG4gYnV0dG9uJ1xuICBidG4udGV4dENvbnRlbnQgPSBMb2NbbGFuZ10uc2F2ZVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtZXNzYWdlLmNsYXNzTmFtZSA9ICdlZGl0b3JfX3NhdmVfbWVzc2FnZSBoaWRkZW4nXG5cbiAgc2F2ZS5hcHBlbmQobmFtZSwgYnRuLCBtZXNzYWdlKVxuICByZXR1cm4gc2F2ZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVNYWluKCkge1xuICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFpbicpXG4gIG1haW4uY2xhc3NOYW1lID0gJ21haW4nXG5cbiAgY29uc3QgYmFzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJhc2UuY2xhc3NOYW1lID0gJ2Jhc2UnXG5cbiAgYmFzZS5hcHBlbmQoY3JlYXRlR2FtZUZpZWxkKCkpXG5cbiAgY29uc3QgYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBiZy5jbGFzc05hbWUgPSAnYmcnXG5cbiAgbWFpbi5hcHBlbmQoYmcsIGNyZWF0ZVNpZGVNZW51KCksIGNyZWF0ZVBsYXllcigpLCBiYXNlLCBjcmVhdGVDaGFycygpKVxuICByZXR1cm4gbWFpblxufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGUobmFtZSwgY2FsbGJhY2sgPSAoKSA9PiB7fSkge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgZWwuY2xhc3NOYW1lID0gbmFtZVxuICBjb25zdCB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIHhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBlbC5pbm5lckhUTUwgPSB0aGlzLnJlc3BvbnNlVGV4dFxuICAgICAgICBwZW5kaW5nIC09IDFcbiAgICAgICAgaWYgKHBlbmRpbmcgPD0gMCkgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gJ1BhZ2Ugbm90IGZvdW5kLidcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgeGh0dHAub3BlbignR0VUJywgYC4vdGVtcGxhdGUvJHtuYW1lfS50bXBsYCwgdHJ1ZSlcbiAgeGh0dHAuc2VuZCgpXG4gIHJldHVybiBlbFxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBpbml0VUkoKSB7XG4gIGNvbnN0IGxhbmcgPSBzdG9yZS5nZXQoJ2xhbmcnKSA/PyAnZW4nXG4gIHN0YXRlLmxhbmcgPSBsYW5nXG4gIC8vIGNvbnNvbGUubG9nKCdsYW51YWdlOicsIGxhbmcpXG4gIGNvbnN0IHRoZW1lTmFtZSA9IHN0b3JlLmdldCgndGhlbWUnKVxuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ3RoZW1lX19kYXJrJywgdGhlbWVOYW1lID09PSAnZGFyaycpXG5cbiAgY29uc3QgZ2V0VGhlbWVDb2xvcnMgPSBuYW1lID0+IHtcbiAgICB0aGVtZS5jb2xvcjAwID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yMDAnKVxuICAgIHRoZW1lLmNvbG9yNTAgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3I1MCcpXG4gICAgdGhlbWUuY29sb3I4MCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvcjgwJylcbiAgICB0aGVtZS5jb2xvcjkwID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yOTAnKVxuICAgIHRoZW1lLmNvbG9yMTAwID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNvbG9yMTAwJylcbiAgICB0aGVtZS5uYW1lID0gbmFtZVxuICB9XG5cbiAgY29uc3QgaW5pdFRoZW1lU3dpdGNoZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3dpdGNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGhlbWVfX3N3aXRjaGVyJylcbiAgICBzd2l0Y2hlci5jaGVja2VkID0gdGhlbWVOYW1lID09PSAnZGFyaydcbiAgICBnZXRUaGVtZUNvbG9ycyh0aGVtZU5hbWUpXG5cbiAgICBzd2l0Y2hlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBjb25zdCBkYXJrVGhlbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWRcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgndGhlbWVfX2RhcmsnLCBkYXJrVGhlbWUpXG4gICAgICBnZXRUaGVtZUNvbG9ycyhkYXJrVGhlbWUgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgc3RvcmUuc2V0KCd0aGVtZScsIGRhcmtUaGVtZSA/ICdkYXJrJyA6ICdsaWdodCcpXG4gICAgICB0aGVtZVVwZGF0ZSgpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGluaXRMYW5ndWFnZVN3aXRjaGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZ3VhZ2VfX2ljb24nKVxuICAgIGNvbnN0IHN3aXRjaGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmd1YWdlX19zZWxlY3QnKVxuICAgIHN3aXRjaGVyLnZhbHVlID0gbGFuZ1xuICAgIGljb24uY2xhc3NOYW1lID0gYGxhbmd1YWdlX19pY29uICR7bGFuZ31gXG5cbiAgICBzd2l0Y2hlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBzdG9yZS5zZXQoJ2xhbmcnLCBldmVudC50YXJnZXQudmFsdWUpXG4gICAgICBsb2NhdGlvbi5yZXBsYWNlKGxvY2F0aW9uLmhyZWYpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCBpbml0UGVuZGluZ0NvbXBvbmVudHMgPSAoKSA9PiB7XG4gICAgICBpbml0VGhlbWVTd2l0Y2hlcigpXG4gICAgICB0aGVtZVVwZGF0ZSgpXG4gICAgICBpbml0TGFuZ3VhZ2VTd2l0Y2hlcigpXG4gICAgICByZXNvbHZlKClcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChcbiAgICAgIGNyZWF0ZUZyb21UZW1wbGF0ZSgnaGVhZGVyJywgaW5pdFBlbmRpbmdDb21wb25lbnRzKSxcbiAgICAgIGNyZWF0ZU1haW4oKSxcbiAgICAgIGNyZWF0ZUZyb21UZW1wbGF0ZSgnZm9vdGVyJywgaW5pdFBlbmRpbmdDb21wb25lbnRzKSxcbiAgICAgIGNyZWF0ZU1vZGFsR2FtZSgpLFxuICAgICAgY3JlYXRlTW9kYWxSZXN1bHRzKCksXG4gICAgICBjcmVhdGVNb2RhbFJlY29yZHMoKSxcbiAgICAgIGNyZWF0ZU1vZGFsQWJvdXQoKVxuICAgIClcblxuICAgIGluaXRNZW51KClcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJzbmQiLCJTb3VuZCIsIlN0b3JlIiwiY2hhbmdlU291bmRWb2x1bWUiLCJpY29uIiwidmFsdWUiLCJpbml0Iiwic291bmQiLCJtdXRlZCIsInZvbHVtZSIsIk51bWJlciIsImNsYXNzTmFtZSIsImNoYW5nZVNvdW5kVm9sdW1lRW5kIiwicGxheSIsInNldCIsImNoYW5nZU11c2ljVm9sdW1lRW5kIiwibXVzaWMiLCJ0aXRsZSIsInByb2dyZXNzIiwicmVhZHlDYWxsYmFjayIsImxvYWRlZCIsInRleHRDb250ZW50IiwiaW5jbHVkZXMiLCJfcGxheWluZyIsImRvdHMiLCJyZXBlYXQiLCJzdGFydFBsYXlDYWxsYmFjayIsIm5hbWUiLCJleGNlcHRpb25DYWxsYmFjayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsImFkZCIsInN0YXRlIiwiaGFuZGxlTW9kZUNoYW5nZSIsIm1vZGUiLCJ0aGlzIiwiY3JlYXRlTW9kYWxBYm91dCIsImxhbmciLCJtb2RhbCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lciIsImxlZnQiLCJyaWdodCIsImNsb3NlIiwiY2xvc2VJbm5lciIsImNsb3NlSW1nIiwiYXBwZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFib3V0VGl0bGUiLCJ3cmFwIiwiZGVzY3IiLCJkZXNjcmlwdGlvbiIsImZvckVhY2giLCJibG9jayIsImkiLCJhcnRpY2xlIiwidGV4dCIsInN0YXJ0c1dpdGgiLCJoIiwic3Vic3RyaW5nIiwibGlua3MiLCJhcnIiLCJjaGVja2VyIiwic3RyIiwibWF0Y2giLCJpZCIsInVybCIsInB1c2giLCJzbGljZSIsImluZGV4IiwibGVuZ3RoIiwiY2hlY2tMaW5rIiwicCIsImNyZWF0ZVRleHROb2RlIiwiYSIsImhyZWYiLCJwYXJzZSIsImJ0biIsImJvdHQiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ0aGVtZVVwZGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsInRvZ2dsZSIsInRoZW1lIiwicGVuZGluZyIsImNyZWF0ZU1haW4iLCJtYWluIiwiYmFzZSIsImdhbWUiLCJmaWVsZCIsIndpZHRoIiwic2l6ZSIsImhlaWdodCIsImdyaWQiLCJob3ZlciIsInJlc2V0IiwicmVzZXRJbm5lciIsInJlc2V0SW1nIiwic29sdXRpb24iLCJzb2x1dGlvbklubmVyIiwic2F2ZSIsInNhdmVJbm5lciIsInNhdmVJbWciLCJoZWFkZXIiLCJoZWFkZXJUZXh0IiwibW9kZXMiLCJpbnB1dCIsInR5cGUiLCJsYWJlbCIsImh0bWxGb3IiLCJjcmVhdGVNb2RlU2VsZWN0b3IiLCJ0b3AiLCJzdGF0cyIsInR1cm5zIiwicG9zIiwidGltZXIiLCJwcm9ncmVzc2JhciIsImNyZWF0ZVN0YXRzIiwiYXV0b2NvbXBsZXRlIiwicGxhY2Vob2xkZXIiLCJwdXp6bGVOYW1lIiwibWVzc2FnZSIsImNyZWF0ZVNhdmVGb3JtIiwiY3JlYXRlR2FtZUZpZWxkIiwiYmciLCJwbGF5ZXIiLCJzIiwiZ2V0IiwibSIsImlzRmluaXRlIiwic25kSWNvbiIsInNuZFJhbmdlIiwic3RlcCIsIm1heCIsIm11dGVTb3VuZCIsIm11c0ljb24iLCJtdXNSYW5nZSIsImNoYW5nZU11c2ljVm9sdW1lIiwibXVzaWNNdXRlZCIsIm11c2ljVm9sdW1lIiwibXV0ZU11c2ljIiwiY3JlYXRlVm9sdW1lQ29udHJvbCIsImNyZWF0ZVBsYXllciIsImNoYXJzIiwic2hyaWtlIiwiYnVsbGRvZyIsImNyZWF0ZUNoYXJzIiwiY3JlYXRlRnJvbVRlbXBsYXRlIiwiY2FsbGJhY2siLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImlubmVySFRNTCIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwiYXN5bmMiLCJpbml0VUkiLCJ0aGVtZU5hbWUiLCJib2R5IiwiZ2V0VGhlbWVDb2xvcnMiLCJjb2xvcjAwIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJjb2xvcjUwIiwiY29sb3I4MCIsImNvbG9yOTAiLCJjb2xvcjEwMCIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW5pdFBlbmRpbmdDb21wb25lbnRzIiwic3dpdGNoZXIiLCJjaGVja2VkIiwicHJldmVudERlZmF1bHQiLCJkYXJrVGhlbWUiLCJpbml0VGhlbWVTd2l0Y2hlciIsImxvY2F0aW9uIiwicmVwbGFjZSIsImluaXRMYW5ndWFnZVN3aXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==