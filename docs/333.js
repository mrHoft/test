"use strict";(self.webpackChunknonograms=self.webpackChunknonograms||[]).push([[333,442,881,770],{5459:(e,t,s)=>{s.d(t,{I:()=>a});const a={size:600,size20deg:723.7723388671875,blockSize:30,spf:16,modes:["5x5","10x10","15x15"],languages:["en","ru"],clues:!0}},2739:(e,t,s)=>{s.r(t),s.d(t,{editor:()=>H,start:()=>Z});var a=s(7803),n=s(4770),o=s(5459),r=s(1301),c=s(9881);const l=o.I.blockSize,d=o.I.spf,i=e=>{e.ctx.clearRect(0,0,o.I.size,o.I.size),e.ctx.strokeStyle=e.color80,e.ctx.beginPath();for(let t=0;t<=e.rows;t+=1)e.ctx.moveTo(e.start+t*l,e.start),e.ctx.lineTo(e.start+t*l,e.start+e.rows*l),e.ctx.moveTo(e.start,e.start+t*l),e.ctx.lineTo(e.start+e.rows*l,e.start+t*l);e.ctx.stroke(),e.ctx.strokeStyle=e.color100,e.ctx.beginPath();for(let t=0;t<=e.rows;t+=5)e.ctx.moveTo(e.start+t*l,e.start),e.ctx.lineTo(e.start+t*l,e.start+e.rows*l),e.ctx.moveTo(e.start,e.start+t*l),e.ctx.lineTo(e.start+e.rows*l,e.start+t*l);e.ctx.stroke()},m=e=>{const t=e.start;for(let s=0;s<e.rows;s+=1)for(let a=0;a<e.rows;a+=1){const n=t+a*l,o=t+s*l;1===e.arr[s][a]&&(e.ctx.fillStyle=e.color100,e.ctx.fillRect(n+1,o+1,l-2,l-2)),2===e.arr[s][a]&&p(e,n,o)}},u=e=>{const t=e.start;for(let s=0;s<e.rows;s+=1)for(let a=0;a<e.rows;a+=1){const n=t+a*l,o=t+s*l;0===e.puzzle[s][a]&&1===e.arr[s][a]&&_(e,n,o),1===e.puzzle[s][a]&&1!==e.arr[s][a]&&(e.ctx.fillStyle="yellow",e.ctx.fillRect(n+1,o+1,l-2,l-2))}},h=(e,t,s)=>{if(e.pointer.clearRect(0,0,o.I.size,o.I.size),-1!==t&&-1!==s){const a=e.start,n=a+t*l,o=a+s*l;e.pointer.fillStyle=e.color100,e.pointer.fillRect(n,a,l,e.rows*l),e.pointer.fillRect(a,o,e.rows*l,l)}},p=(e,t,s,a=0)=>{if(e.ctx.clearRect(t+1,s+1,l-2,l-2),2===a)return;const n=l/4;e.ctx.strokeStyle=e.color100,e.ctx.beginPath(),e.ctx.moveTo(t+n,s+n),e.ctx.lineTo(t+l-n,s+l-n),e.ctx.moveTo(t+l-n,s+n),e.ctx.lineTo(t+n,s+l-n),e.ctx.stroke()},_=(e,t,s)=>{e.ctx.clearRect(t+1,s+1,l-2,l-2);const a=l/4;e.ctx.strokeStyle="red",e.ctx.beginPath(),e.ctx.moveTo(t+a,s+a),e.ctx.lineTo(t+l-a,s+l-a),e.ctx.moveTo(t+l-a,s+a),e.ctx.lineTo(t+a,s+l-a),e.ctx.stroke()},g=e=>{e.ctx.font="14px arial";const t=e.start;for(let s=0;s<e.rows;s+=1){let a=[],n=0,r=0;for(let t=0;t<e.rows;t+=1)1===e.puzzle[t][s]?n+=1:n>0&&(a.push(n),n=0),e.puzzle[t][s]===(1===e.arr[t][s]?1:0)&&(r+=1);n>0&&a.push(n),e.ctx.strokeStyle=o.I.clues&&r===e.rows?"#bb5":"gray",a.reverse().forEach(((a,n)=>{const o=t+s*l+(l-14)/2;e.ctx.strokeText(a,o,t-l/2-17*n)}))}for(let s=0;s<e.rows;s+=1){let a=[],n=0,r=0;for(let t=0;t<e.rows;t+=1)1===e.puzzle[s][t]?n+=1:n>0&&(a.push(n),n=0),e.puzzle[s][t]===(1===e.arr[s][t]?1:0)&&(r+=1);n>0&&a.push(n),e.ctx.strokeStyle=o.I.clues&&r===e.rows?"#bb5":"gray",a.reverse().forEach(((a,n)=>{const o=t+s*l+(l-14)/2+14;e.ctx.strokeText(a,t-l/2-7-17*n,o)}))}};var v=s(9114),y=s(7866),f=s(6012);const w=new n.Sound,b=(e,t,s)=>new Promise((a=>{let n=t;!function t(){if(n+=Math.max(2*~~((s-n)/10),1),e.textContent=n,w.use("step"),n>=s)return a();setTimeout(t,2*o.I.spf)}()}));var x=s(3442),k=s(1408);const E=new c.Puzzles,z=new n.Sound,S=new x.Store,L=o.I.blockSize,N={};let C=null;const T={current:{mode:0,puzzle:0,solution:0,turns:0},init:{events:!1,base:!1,editor:!1},pointer:null,field:{el:null,size:600,k:1},start:0,rows:0,c:{x:-1,y:-1,down:-1},stats:{pos:null,turns:null,progress:null},arr:[],puzzle:[],puzzleName:null,pointsTotal:0,turnsMax:0,timer:0,time:0,status:null},q=()=>{const e=new r.Q;T.color00=e.color00,T.color50=e.color50,T.color80=e.color80,T.color90=e.color90,T.color100=e.color100},M=()=>{q();const e=new a.Z;T.ctx=e.ctx,T.pointer=e.pointer,T.mode=e.mode;const t=~~(o.I.size/2);T.rows=5*(e.mode+1);const s=T.rows%2?L/2:0,n="game"===T.status&&15===T.rows?L:0;T.start=t-Math.floor(T.rows/2)*L-s+n,T.stats.pos=document.querySelector(".stats__pos"),T.stats.turns=document.querySelector(".stats__turns"),T.stats.progress=document.querySelector(".stats__progress_bar"),T.stats.progress.removeAttribute("style"),T.field.el=e.hover,T.field.size=o.I.size20deg,T.arr=E.blank(T.mode),T.stats.progress.removeAttribute("style"),document.querySelector(".game__solution").removeAttribute("style")},$=(e,t)=>{T.status="end",document.querySelector(".base").classList.add("disabled"),T.c.down=-1,h(T,-1,-1),clearInterval(T.timer);const s=~~((new Date-T.time)/1e3),n=5*Math.max(3*T.pointsTotal-s,0),r=5*Math.max(T.turnsMax-T.current.turns,0);if((async({time:e,turns:t,score:s,msg:n="win",solution:r=!1,descr:c=null})=>{const l=(new a.Z).lang,{timeScore:d,turnsScore:i}=s;w.say(n);const m=document.querySelector(".modal__reslt");var u,h;m.classList.add("disabled"),m.classList.remove("hidden"),m.reslt.solution.classList.remove("visible"),m.reslt.score.removeAttribute("style"),m.reslt.shrike.classList.toggle("loose","win"!==n),m.reslt.title.textContent=f[l][n],m.reslt.descr.textContent=c?f[l][c]:"",m.reslt.score.textContent="0",await(u=m.reslt.time,h=e,new Promise((e=>{let t=0;!function s(){t+=Math.max(2*~~((h-t)/10),1);const a=~~(t/60),n=t%60;if(u.textContent=`${("0"+a).slice(-2)}:${("0"+n).slice(-2)}`,w.use("step"),t>=h)return e();setTimeout(s,2*o.I.spf)}()}))),await b(m.reslt.score,0,d),await new Promise((e=>setTimeout((()=>e()),500))),await b(m.reslt.turns,0,t),await b(m.reslt.score,d,d+i),"win"===n&&r&&m.reslt.solution.classList.add("visible"),(r||"win"!==n)&&(m.reslt.score.style.textDecoration="line-through"),m.classList.remove("disabled")})({time:s,turns:T.current.turns,score:{timeScore:n,turnsScore:r},msg:e,solution:T.current.solution,descr:t}),"win"!==e&&setTimeout((()=>u(T)),o.I.spf*L/4),"win"===e){const e={name:T.puzzleName,mode:T.current.mode,time:s,turns:T.current.turns,solution:T.current.solution,score:T.current.solution?0:n+r,date:new Date},t=S.get("records");let a=!0;if(Array.isArray(t))for(let s=0;s<t.length;s+=1)if(t[s].name===T.puzzleName){S.set(`records.${s}`,e),a=!1;break}a&&S.add("records",e)}},A=()=>{if(T.time){const e=document.querySelector(".stats__timer"),t=~~((new Date-T.time)/1e3);e.textContent=(0,k.m)(t)}},I=()=>{S.set("last.game",{...T.current,time:~~((new Date-T.time)/1e3),arr:E.stringify(T.arr)})},R=()=>{if("end"===T.status)return;const e=T.c.x,t=T.c.y;if(-1!==e&&-1!==t){T.time||(T.time=new Date);const s=T.arr[t][e],a=T.start,n=a+e*L,r=a+t*L;0===T.c.down&&(T.arr[t][e]=1===s?0:1,((e,t,s,a)=>{let n=a*(l-4);const o=()=>{e.ctx.clearRect(t+1,s+1,l-2,l-2),e.ctx.fillStyle=e.color100,e.ctx.fillRect(t+l/2-n/2,s+l/2-n/2,n,n),n+=a?-4:4,n>0&&n<l?setTimeout(o,d):1!==a?e.ctx.fillRect(t+1,s+1,l-2,l-2):e.ctx.clearRect(t+1,s+1,l-2,l-2)};o()})(T,n,r,2===s?0:s),1===T.arr[t][e]&&z.use("dot"),T.current.turns+=1,"game"===T.status&&((e,t)=>{if(!o.I.clues)return;let s=0;for(let t=0;t<T.rows;t+=1)T.puzzle[t][e]===(1===T.arr[t][e]?1:0)&&(s+=1);let a=0;for(let e=0;e<T.rows;e+=1)T.puzzle[t][e]===(1===T.arr[t][e]?1:0)&&(a+=1);((e,t,s)=>{e.ctx.font="14px arial",e.ctx.strokeStyle=s?"#bb5":"gray";const a=e.start;e.ctx.clearRect(a+t*l,a-1,l,4*-l);let n=[],o=0;for(let s=0;s<e.rows;s+=1)1===e.puzzle[s][t]?o+=1:o>0&&(n.push(o),o=0);o>0&&n.push(o),n.reverse().forEach(((s,n)=>{const o=a+t*l+(l-14)/2;e.ctx.strokeText(s,o,a-l/2-17*n)}))})(T,e,s===T.rows),((e,t,s)=>{e.ctx.font="14px arial",e.ctx.strokeStyle=s?"#bb5":"gray";const a=e.start;e.ctx.clearRect(a-1,a+t*l,4*-l,l);let n=[],o=0;for(let s=0;s<e.rows;s+=1)1===e.puzzle[t][s]?o+=1:o>0&&(n.push(o),o=0);o>0&&n.push(o),n.reverse().forEach(((s,n)=>{const o=a+t*l+(l-14)/2+14;e.ctx.strokeText(s,a-l/2-7-17*n,o)}))})(T,t,a===T.rows)})(e,t),"game"===T.status&&(()=>{if("game"!==T.status)return;T.stats.turns.textContent=`${T.current.turns}/${T.turnsMax}`,T.current.turns===~~(T.turnsMax/2)&&(0,y.y)("shrike","attemtsHalf");let e=0,t=0;for(let s=0;s<T.rows;s+=1)for(let a=0;a<T.rows;a+=1)1===T.puzzle[s][a]?1===T.arr[s][a]&&(e+=1,t+=1):1===T.arr[s][a]&&(e-=1,t+=1);e=Math.max(e,0),T.stats.progress.style.width=~~(100*Math.min(t/T.pointsTotal,1))+"%",T.current.turns>T.turnsMax?$("loose","turnsOut"):e===T.pointsTotal&&$("win")})(),"editor"===T.status&&S.set("last.editor",{mode:T.current.mode,arr:E.stringify(T.arr)})),2===T.c.down&&(T.arr[t][e]=2===s?0:2,p(T,n,r,s),2===T.arr[t][e]&&z.use("cross"))}},G=e=>{const t=Math.floor((e.offsetX/T.field.k-T.start)/L),s=Math.floor((e.offsetY/T.field.k-T.start)/L);t>=0&&s>=0&&t<T.rows&&s<T.rows?t===T.c.x&&s===T.c.y||(T.c.x=t,T.c.y=s,h(T,t,s),T.stats.pos.textContent=`${t+1}:${s+1}`,-1!=T.c.down?R():z.use("step")):(-1===T.c.x&&-1===T.c.y||(h(T,-1,-1),T.stats.pos.textContent="0:0"),T.c.x=-1,T.c.y=-1)},O=()=>{const e=!window.matchMedia("(max-width: 720px)").matches,t=document.querySelector(".game");t.classList.add("disabled");const s=()=>{"game"!==T.status&&"end"!==T.status||g(T),t.classList.remove("flip2"),t.classList.remove("disabled")};e?(t.classList.add("flip1"),setTimeout((()=>{T.arr=E.blank(T.mode),i(T),t.classList.remove("flip1"),t.classList.add("flip2"),setTimeout(s,300)}),300)):(t.classList.add("flip0"),setTimeout((()=>{T.arr=E.blank(T.mode),i(T),"game"!==T.status&&"end"!==T.status||g(T),t.classList.remove("flip0"),t.classList.remove("disabled")}),300)),z.use("whoosh"),T.current.turns=0,T.stats.turns.textContent=`${T.current.turns}/${T.turnsMax}`,"editor"===T.status&&S.set("last.editor",null)},P=()=>{const e=~~T.field.el.getBoundingClientRect().width;e!==T.field.size&&(T.field.size=e,T.field.k=e>=723?1:e/o.I.size)},U=e=>{if(e){if(e.preventDefault(),0===T.arr.flat().reduce(((e,t)=>e+t),0))return void(0,y.y)("bulldog","blankFiled");const t=new FormData(e.target).get("name");if(t.length<3||t.length>18)return void(0,y.y)("shrike","adequateName");if(E.list(T.current.mode).includes(t))return void(0,y.y)("shrike","duplicateName");const s=E.stringify(T.arr);console.log(s);const a=E.add(t,T.arr),n=document.querySelector(".editor__save_message");n.textContent=a,n.classList.remove("hidden"),n.style.animation="none",n.offsetHeight,n.style.animation=null,setTimeout((()=>n.classList.add("hidden")),3e3),a instanceof Error||((0,v.Oz)(),S.add("puzzles",{name:t,puzzle:s}),S.set("last.editor",null))}},D=()=>{window.addEventListener("resize",P),P();const e=new a.Z;e.hover.addEventListener("mousemove",G),e.hover.addEventListener("mousedown",(e=>{e.preventDefault(),T.c.down=e.button,R()})),e.hover.addEventListener("mouseup",(e=>{e.preventDefault(),T.c.down=-1})),document.querySelector(".game").addEventListener("contextmenu",(e=>e.preventDefault())),document.querySelector(".editor__save_form").addEventListener("submit",U),(new r.Q).addCallback((()=>{q(),i(T),m(T),"game"!==T.status&&"end"!==T.status||g(T)}));const t=document.querySelector(".game__reset");t.addEventListener("click",O),t.addEventListener("mouseleave",(()=>C=null)),t.addEventListener("mouseenter",(e=>{C=e.target;const t=e.target.classList[0];N[t]&&clearTimeout(N[t]),N[t]=setTimeout((()=>{if(C===e.target){const e=T.arr.flat().reduce(((e,t)=>e+t),0)>0?"reset":"blank-filed";(0,y.y)("bulldog",e)}}),250)}));const s=document.querySelector(".game__solution");s.addEventListener("mouseleave",(()=>C=null)),s.addEventListener("mouseenter",(e=>{C=e.target;const t=e.target.classList[0];N[t]&&clearTimeout(N[t]),N[t]=setTimeout((()=>{C===e.target&&(0,y.y)("shrike","solution",4e3)}),250)})),s.addEventListener("click",(()=>{T.current.solution+=1,u(T),s.style.backgroundColor="#800b",T.time=0,document.querySelector(".game").classList.add("disabled")}));const n=document.querySelector(".game__save");n.addEventListener("click",I),n.addEventListener("mouseleave",(()=>C=null)),n.addEventListener("mouseenter",(e=>{C=e.target;const t=e.target.classList[0];N[t]&&clearTimeout(N[t]),N[t]=setTimeout((()=>{C===e.target&&(0,y.y)("bulldog","save")}),250)})),T.init.events=!0},H=e=>{console.log("Start editor");const t=document.querySelector(".game");t.classList.remove("disabled"),t.classList.remove("hidden");const s=e?null:S.get("last.editor");T.status="editor";const n=new a.Z;n.setModeUpdateCallback((()=>{})),s?n.mode=s.mode??2:T.init.editor||(n.mode=2),T.current.mode=n.mode,clearInterval(T.timer),M(),i(T),T.init.events||D(),T.init.editor=!0,n.setModeUpdateCallback((()=>H(!0))),document.querySelector(".base").classList.remove("disabled"),document.querySelector(".editor__mode").classList.remove("hidden"),document.querySelector(".editor__save_form").classList.remove("hidden"),document.querySelector(".game__solution").classList.add("hidden"),document.querySelector(".game__save").classList.add("hidden"),document.querySelector(".game__header_text").classList.add("hidden"),document.querySelector(".stats__progress").classList.add("hidden"),document.querySelector(".stats__turns").classList.add("hidden"),document.querySelectorAll(".editor__mode_select")[n.mode].checked=!0,s&&(T.arr=E.parse(s.arr),m(T),document.querySelector(".editor__save_name-text").value=s.name??""),(0,y.y)(Math.random()>.5?"bulldog":"shrike","editorNew")},Z=(e,t,s)=>{void 0===e&&(e=~~(3*Math.random())),void 0===t&&(t=~~(Math.random()*E.list(e).length)),console.log(`Start game: ${e}-${t}${s?" (recovered)":""}`);const n=document.querySelector(".game");n.classList.remove("disabled"),n.classList.remove("hidden"),T.status="game";const o=new a.Z;o.setModeUpdateCallback(),o.mode=e,M();const{name:r,data:c}=E.get(e,t);T.puzzle=c,T.puzzleName=r,T.current={mode:e,puzzle:t,solution:0,turns:0};const l=c.flat().reduce(((e,t)=>e+t),0);T.pointsTotal=l,T.turnsMax=3*l,T.stats.turns.textContent=`${T.current.turns}/${T.turnsMax}`,T.init.events||D(),T.init.start=!0,document.querySelector(".base").classList.remove("disabled"),document.querySelector(".editor__mode").classList.add("hidden"),document.querySelector(".editor__save_form").classList.add("hidden"),document.querySelector(".game__solution").classList.remove("hidden"),document.querySelector(".game__save").classList.remove("hidden"),document.querySelector(".stats__progress").classList.remove("hidden"),document.querySelector(".stats__turns").classList.remove("hidden");const d=document.querySelector(".game__header_text");d.classList.remove("hidden"),d.textContent=r,document.querySelector(".stats__timer").textContent="00:00",T.time=0,clearInterval(T.timer),T.timer=setInterval(A,1e3),i(T),s&&s.time+10<10*T.pointsTotal&&(T.arr=E.parse(s.arr),T.current.solution=s.solution,T.current.turns=s.turns,T.time=new Date-1e3*s.time,s.solution&&(document.querySelector(".game__solution").style.backgroundColor="#800b"),m(T)),g(T),(0,y.y)(Math.random()>.5?"bulldog":"shrike",s?"lastGameRecovered":"gameNew")}},9114:(e,t,s)=>{s.d(t,{Oz:()=>z,k3:()=>q,kN:()=>T,rG:()=>$,wp:()=>M});var a=s(2739),n=s(7803),o=s(9881),r=s(5459),c=s(7866),l=s(3442),d=s(4770),i=s(1301),m=s(651),u=s(6012);const h=new l.Store,p=new d.Sound,_=new o.Puzzles;let g=0,v=0;const y=()=>{p.use("slide"),document.querySelector(".modal__game").classList.remove("hidden"),document.querySelector(".modal__game_btn").classList.add("disabled"),document.querySelector(".modal__puzzle_select").value="",z(),L(!0)},f=()=>{document.querySelector(".modal__game").classList.add("hidden"),(0,a.start)(g,v)},w=()=>{document.querySelector(".modal__game").classList.add("hidden"),(0,a.start)()},b=()=>{const e=h.get("last.game");e?(0,a.start)(e.mode,e.puzzle,e):(0,c.y)("bulldog","noSavedGame")},x=()=>{const e=new n.Z;"editor"!==e.status?(e.mode=2,(0,a.editor)()):(0,c.y)("bulldog","unknown")},k=()=>{p.use("slide"),document.querySelector(".modal__records").classList.remove("hidden"),(0,m.a)()},E=()=>{p.use("slide"),document.querySelector(".modal__about").classList.remove("hidden")},z=()=>{const e=_.list(g),t=document.querySelector(".modal__puzzle_select"),s=h.get("records");t.innerHTML="",e.forEach(((e,a)=>{let n=s.some((t=>t.mode===g&&t.score>0&&t.name===e));const o=document.createElement("option");o.value=a,o.textContent=`${a<9?` ${a+1}`:a+1}. ${e}${n?" ✔":""}`,t.append(o)}))},S=e=>{document.querySelector(".modal__game_btn").classList.remove("disabled"),v=Number(e.currentTarget.value),p.use("step"),L()},L=e=>{const t=new i.Q,s=document.querySelector(".modal__puzzle_preview").getContext("2d");if(s.clearRect(0,0,75,75),e)return;const a=_.get(g,v).data,n=15/(g+1),o=a.length;s.clearRect(0,0,75,75),s.fillStyle=t.color100;for(let e=0;e<o;e+=1)for(let t=0;t<o;t+=1)a[e][t]&&s.fillRect(t*n,e*n,n,n)},N=e=>{new n.Z,g=Number(e.target.value),p.use("step"),z()},C=e=>{e.target===e.currentTarget&&e.target.classList.add("hidden")},T=()=>{const e=(new n.Z).lang,t=document.createElement("div");t.className="modal__game hidden";const s=document.createElement("div");s.className="modal__inner";const a=document.createElement("div");a.className="modal__left";const o=document.createElement("div");o.className="modal__right";const c=document.createElement("div");c.className="modal__bott";const l=document.createElement("div");l.className="modal__close hex-btn";const d=document.createElement("div"),i=document.createElement("div");i.className="modal__close_icon",d.append(i),l.append(d),l.addEventListener("click",(()=>t.classList.add("hidden")));const m=document.createElement("h2");m.className="modal__title",m.textContent=u[e].startNewGame;const h=document.createElement("div");h.className="modal__buttons";const p=document.createElement("div");p.className="modal__game_btn button",p.textContent=u[e].start,p.addEventListener("click",f);const _=document.createElement("div");return _.className="button",_.textContent=u[e].randomGame,_.addEventListener("click",w),h.append(p,_),s.append(a,o,c,l,m,function(){const e=document.createElement("div");return e.className="modal__mode mode",r.I.modes.forEach(((t,s)=>{const a=document.createElement("input");a.className="modal__mode_select mode-select",a.type="radio",a.value=s,a.name="m_mode",a.id=`m_mode${s}`,a.addEventListener("change",N);const n=document.createElement("label");n.textContent=t,n.htmlFor=`m_mode${s}`,e.append(a,n)})),e}(),function(){const e=(new n.Z).lang,t=document.createElement("div");t.className="modal__puzzle";const s=document.createElement("div");s.className="modal__puzzle_left";const a=document.createElement("span");a.textContent=u[e].selectPuzzle;const o=document.createElement("div");o.className="modal__scroll_wrap";const r=document.createElement("select");r.className="modal__puzzle_select scrolled",r.size=10,r.addEventListener("click",S),o.append(r),s.append(a,o);const c=document.createElement("div");c.className="modal__puzzle_right";const l=document.createElement("span");l.textContent=u[e].preview;const d=document.createElement("div");d.className="modal__puzzle_preview-wrap";const i=document.createElement("canvas");return i.className="modal__puzzle_preview",i.width=75,i.height=75,i.textContent="Preview field",d.append(i),c.append(l,d),t.append(s,c),t}(),h),t.append(s),t.addEventListener("click",C),t},q=()=>{const e=(new n.Z).lang,t=document.createElement("div");t.className="modal__reslt hidden";const s=document.createElement("div");s.className="modal__inner";const a=document.createElement("div");a.className="modal__left";const o=document.createElement("div");o.className="modal__right";const r=document.createElement("div");r.className="modal__bott";const c=document.createElement("div");c.className="modal__close hex-btn";const l=document.createElement("div"),d=document.createElement("div");d.className="modal__close_icon",l.append(d),c.append(l),c.addEventListener("click",(()=>t.classList.add("hidden")));const i=document.createElement("h2");i.className="modal__title",i.textContent=u[e].win;const m=document.createElement("p");m.className="modal__reslt_descr";const h=document.createElement("p");h.className="modal__reslt_descr";const p=document.createElement("span");p.className="modal__time",p.textContent="00:00",h.append(document.createTextNode(`${u[e].timeUsed}:`),p);const _=document.createElement("p");_.className="modal__reslt_descr";const g=document.createElement("span");g.className="modal__turns",g.textContent="0",_.append(document.createTextNode(`${u[e].turnsUsed}:`),g);const v=document.createElement("p");v.className="modal__reslt_descr";const y=document.createElement("span");y.className="modal__score",y.textContent="0",v.append(document.createTextNode(`${u[e].score}:`),y);const f=document.createElement("div");f.className="modal__solution",f.textContent=`(${u[e].solutionUsed})`;const w=document.createElement("div");w.className="modal__reslt_shrike";const b=document.createElement("div");return b.className="button",b.textContent="OK",b.addEventListener("click",(()=>t.classList.add("hidden"))),s.append(a,o,r,c,i,m,h,_,v,f,w,b),t.reslt={title:i,descr:m,time:p,turns:g,score:y,shrike:w,solution:f},t.append(s),t.addEventListener("click",C),t},M=()=>{const e=(new n.Z).lang,t=document.createElement("div");t.className="menu__side";const s=document.createElement("div");s.className="menu__side_right";const a=document.createElement("nav");a.className="menu__side_nav";const o=document.createElement("ul");return o.className="menu__list",["newGame","randomGame","loadGame","editor","records","about"].forEach((t=>{const s=t.match(/^[a-z]+/)[0],a=document.createElement("li");a.className="menu__list_item",a.addEventListener("mouseenter",(()=>p.use("step")));const n=document.createElement("div");n.className="hex-btn";const r=document.createElement("div"),c=document.createElement("div");c.className=`icon_${s}`,r.append(c),n.append(r),a.append(document.createTextNode(u[e][t]),n),o.append(a)})),a.append(o),t.append(s,a),t},$=()=>{const e=new n.Z,t=(e.lang,document.querySelectorAll(".menu__list_item"));t[0].addEventListener("click",y),t[1].addEventListener("click",w),t[2].addEventListener("click",b),t[3].addEventListener("click",x),t[4].addEventListener("click",k),t[5].addEventListener("click",E),g=e.mode,document.querySelectorAll(".modal__mode_select")[g].checked=!0}},651:(e,t,s)=>{s.d(t,{B:()=>d,a:()=>l});var a=s(7803),n=s(3442),o=s(1408),r=s(6012);const c=new n.Store,l=()=>{const e=c.get("records"),t=document.querySelector(".modal__records_list");t.innerHTML="",e.sort(((e,t)=>parseInt(new Date(t.date).getTime()-new Date(e.date).getTime()))).slice(0,5).forEach((e=>{const s=document.createElement("li");s.className="modal__records_item";const a=document.createElement("span");a.textContent=(0,o.p)(e.date);const n=document.createElement("span");n.textContent=e.name;const r=document.createElement("span");r.textContent=(0,o.m)(e.time);const c=document.createElement("span");c.textContent=e.turns;const l=document.createElement("span");l.textContent=e.score,s.append(a,n,r,c,l),t.append(s)}))},d=()=>{const e=(new a.Z).lang,t=document.createElement("div");t.className="modal__records hidden";const s=document.createElement("div");s.className="modal__inner";const n=document.createElement("div");n.className="modal__left";const o=document.createElement("div");o.className="modal__right";const c=document.createElement("div");c.className="modal__bott";const l=document.createElement("div");l.className="modal__close hex-btn";const d=document.createElement("div"),i=document.createElement("div");i.className="modal__close_icon",d.append(i),l.append(d),l.addEventListener("click",(()=>t.classList.add("hidden")));const m=document.createElement("h2");m.className="modal__title",m.textContent=r[e].recordsTitle;const u=document.createElement("div");u.className="modal__scroll_wrap";const h=document.createElement("ul");h.className="modal__records_list scrolled",u.append(h);const p=document.createElement("div");return p.className="button",p.textContent="OK",p.addEventListener("click",(()=>t.classList.add("hidden"))),s.append(n,o,c,l,m,u,p),t.append(s),t.addEventListener("click",(e=>{e.target===e.currentTarget&&e.target.classList.add("hidden")})),t}},9881:(e,t,s)=>{s.r(t),s.d(t,{Puzzles:()=>n});const a=JSON.parse('[[{"name":"Monkey","data":"0111011111101010111000100"},{"name":"Wrench","data":"0001000111001100100010000"},{"name":"Whell","data":"0111010001101011000101110"},{"name":"Arrow","data":"0011100011001010100010000"},{"name":"Smile","data":"0000001010000001000101110"},{"name":"House","data":"0010001110111110101001110"},{"name":"Barrette","data":"0100011000001000001100010"},{"name":"Sun","data":"1010101110110110111010101"},{"name":"Gear","data":"0010001110110110111000100"},{"name":"Scratches","data":"0100010001001100100010000"},{"name":"Car","data":"0000001110111110101000000"},{"name":"Duck","data":"0011000111110110011000100"},{"name":"Lizard","data":"1010101110001000111010101"},{"name":"Clock","data":"0111011011110011111101110"},{"name":"Diskette","data":"1111011111100011010111111"},{"name":"Alien","data":"1111110101111111111101010"},{"name":"Mouse","data":"0011001111111010111101010"},{"name":"Heart","data":"0101010101100010101000100"},{"name":"Head","data":"0111011111101011111101110"},{"name":"Snail","data":"0110010010101001000101110"},{"name":"Horse","data":"0001100010111101001010010"},{"name":"Airplane","data":"0010001110111110010001110"}],[{"name":"Mail","data":"0000110000000100100000100001000100000010110000001110100001011001001001100011000110000000011111111111"},{"name":"Lamp","data":"0001111000001000010000100001000010000100000111100000000000000001111000000000000000011110000000110000"},{"name":"Key","data":"0000000000000000000000000011100000010001111111000101010100010000001110000000000000000000000000000000"},{"name":"Phone","data":"0000000100001111110000100001000010000100001111110000101011000011010100001010110000110101000011111100"},{"name":"Boobs","data":"0000000000000000000001110011101000110001100000000110100001011000110001011100111000000000000000000000"},{"name":"Boy","data":"0000110000000100100000010010000000110000111111111100111111000001111000000111100000010010000001001000"},{"name":"Bug","data":"0010000100001000010000010010000010110100011000011010100001010010000100000100100000101101000010000100"},{"name":"Ball","data":"0000110000001111110001101111100101111110110111111111111111110111111110011111111000111111000000110000"},{"name":"Vial","data":"0000110000000111100000001100000000110000000111100000111111000111111010111111110111111111110111111110"},{"name":"Copter","data":"0001111111000000100010000111101111100111100000011111110000010000100001000001111000000000000000111111"},{"name":"Scull","data":"0001111000011000011010000000011011001101101100110110010010010100000010010000001001010010100011111100"},{"name":"Smile","data":"0001111000011111111001111111101100000011110011001111111111111101111011011000011001111111100001111000"},{"name":"Booger","data":"0000000000110000001100100001000011111100001011011001111111110111111111001010101000101010100000000000"},{"name":"Duck","data":"0000000000000110000000111100000010110000111111000101111111110001111111000111111000001111000000000000"},{"name":"Bell","data":"0000110000000100100000100001000010000100001000010000111111000100110010100011000101000000100011111100"},{"name":"Coin","data":"0001111000011000011001011110101011111101101111110110111111011011111101010111101001100001100001111000"},{"name":"Cup","data":"0001000000000010000000010000001111111111100000010110000001010100001010001111000011111111000000000000"},{"name":"TV set","data":"0001001000000011000001111111101000000111100000010110000001111000000101100000011111111111110111111110"},{"name":"Dog","data":"0000000000000100000011110000011111111110001111111000111111100010000010011000011000000000000000000000"},{"name":"Cat","data":"0000000000100010000011111000001010100000011100000100100000010111100001011111111011111111100000000000"},{"name":"Bird","data":"0000000000001110000001111000001101100000011111000001111111000111111111011111110001111000000001000000"},{"name":"Skate","data":"0001100000000110000011001000000011111100000011101000001110000000111100000100001111111111000010010000"}],[{"name":"TV set","data":"000100000001000000010000010000000001000100000000000101000000111111111111111111111111111111110000000000111110000000000101110000000000111110000000000101110000000000111110000000000111111111111111111111111111111111000000000000000"},{"name":"Key","data":"000000000000000000000000000000000000000000000000000000000000011111000000000100000100000000100100111111111101110100000001100100111001001100000100110110011111000000000000000000000000000000000000000000000000000000000000000000000"},{"name":"Cart","data":"000000000000000000000000000000000000000000000110000000000000111000000000000000111111111111000100000000001000100000000001000011111111110000010000000010000001000000100000001111111100000000000000000000001100001100000001100001100"},{"name":"Fish","data":"000000000000000000000000000000000000011110000000111111110001001000001100011010000000111101100001000000001100100100000010100000100000010100001000000001100000001111111010000011000001001111111110000000000000000000000000000000000"},{"name":"Lamp","data":"000000111000000000001000100000000011111110000000010000011111110011111110001101100000000101101000000000101100000000000101010000000011101001000000000001000111000111111000001000100000000010000010000000100000001000000111111111000"},{"name":"Cat","data":"111000000000111100100000001001100010000010001100001000100001100001000100001100001111100001100000000000001010000000000010010100000001010100100000001001100000010000001100000111000001100000000000001011000000000110000111111111000"},{"name":"Gemm","data":"000000000000000000000000000000000111111111000001000000000100010000000000010100000000000001101111110000001100111110000001010011110000010001001110000100000100110001000000010010010000000001000100000000000111000000000000000000000"},{"name":"Ham","data":"000111110000000011000001000000010000000100000100110001010000100110001010000100000010010000100000100010000100001000010000010110000010000001000000001000000111111000100000000000100011000000000010001000000000001010000000000001100"},{"name":"Coffee cup","data":"000001111100000000111111111000001110000011100001100000001111001110000011101001001111100101001000000000101011000000000101101000000000110100100000001001100010000010001100001111100001011000000000110000110000011000000001111100000"},{"name":"Ball","data":"000000111000000000011000110000000100000001000001010000000100010010000000010010001000000010100001000000001100000100000001100000010000001010000001100010010000000011010001000000000100000100000001000000011000110000000000111000000"},{"name":"Cube","data":"000111111111110001000000000001010000110000011100000000000101111111111111001100000000001101100000000001101100110011001001100110011001001100000000001011100110011001011100110011001001100000000001010100000000001100011111111111000"},{"name":"Cute","data":"011100000001110111110000011111111111111111111011000000000110010000000000010100000000000001100000000000001100110000011001100110000011001100110000011001100000111000001100000000000001110000000000011111111111111111011111111111110"},{"name":"Lock","data":"000011111110000000100000001000000100000001000000100000001000001111111111100110100000001011101111111111101100000000000001100000000000001100000111000001100000010000001100000010000001100000010000001110000000000011001111111111100"},{"name":"Umbrella","data":"000000010000000000001111100000000111111111000011111111111110111111111111111000000010000000000000010000000000000010000000000000010000000000000010000000000000010000000000000010000000000000010000000000000010100000000000001000000"},{"name":"Mushroom","data":"000000000000000000001111100000000111111111000011100111111110111100111001111111111111001111001111111111100000000111000000000000111000000000000111000000000000111000000000000111000000000000111000000000000111000000000000000000000"},{"name":"Heart","data":"111111111111111111111111111111111111111111111111000111000111110000010000011100000000000001100000000000001100000000000001110000000000011111000000000111111100000001111111110000011111111111000111111111111101111111111111111111111"},{"name":"Bus","data":"000000000000000001111111111100010000000000010100000000000001100000000000001100000000000001100000000000001100000000000001100000000000001111111111111111111001111100111111001111100111111111111111111000110000011000000000000000000"},{"name":"Plain","data":"000000010000000000000111000000000000111000000000000111000000000000111000000000100111001000000100111001000000111111111000011111111111110111111111111111000000111000000000000111000000000000111000000000000111000000000001111100000"},{"name":"Rocket","data":"000000010000000000000111000000000001111100000000001101100000000001111100000000001101100000000001111100000000001111100000000001111100000000011111110000000111111111000000110000011000000100111001000000000111000000000000010000000"},{"name":"World","data":"000001111100000000110000011000001001000000100010000110000010010000001000010100000001000101111100000100101100010000100101100010000101001100100000010001010011110000010010000010000010001000010000100000110100011000000001111100000"},{"name":"Leaf","data":"000000000000001000000000000011000000000011111000000001111101000000111111011000011111110111000111111101110001111111011110001111100111100011111011111000011110111111000001101111110000001111111100000011001110000000110000000000000"},{"name":"Squirrel","data":"000000111000000000001001001100000011001010100000110000010110001100000100011011001111000101010110000010001010100000011111010100011000010010100001111100010000001100000001000011110000000101110011111111100001111111111111111000000"}]]');class n{static _instance;base=[[],[],[]];constructor(){if(n._instance)return n._instance;n._instance=this,this.base=a}blank(e){const t=5*(e+1);return Array.from({length:t},(()=>Array.from({length:t},(()=>0))))}stringify(e){return e.map((e=>e.map((e=>1===e?1:0)))).flat(1).join("")}add(e,t){if(!e||e.length<2)return new Error("Invalid name");if(!t||!Array.isArray(t)&&"string"!=typeof t)return new Error("Invalid puzzle data");const s="string"==typeof t?t:this.stringify(t),a=Math.sqrt(s.length)/5-1;return this.list(a).includes(e)?new Error(`${e} already exist`):(this.base[a].unshift({name:e,data:s}),"Puzzle was saved")}parse(e){const t=Math.sqrt(e.length);return t!==~~t?null:Array.from({length:t},((s,a)=>Array.from({length:t},((s,n)=>Number(e.charAt(a*t+n))))))}get(e,t){if(!this.base[e])return console.warn(`Game mode ${e} not found!`),this.blank(e);if(!this.base[e][t])return console.warn(`Game puzzle ${t} not found!`),this.blank(e);const{name:s,data:a}=this.base[e][t],n=this.parse(a);return n?{name:s,data:n}:(console.warn(`Game puzzle ${s} is corrupted!`),this.blank(e))}list(e){const t=this.base[e];return t?Array.from({length:t.length},((e,s)=>t[s].name)):(console.warn(`Game mode ${e} not found!`),[])}}},1408:(e,t,s)=>{s.d(t,{m:()=>a,p:()=>n});const a=e=>`${("0"+~~(e/60)).slice(-2)}:${("0"+e%60).slice(-2)}`,n=e=>{const t=new Date(e),s=t.getFullYear().toString().slice(-2),a=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}.${a}.${s} ${`0${t.getHours()}`.slice(-2)}:${`${t.getMinutes()}`.slice(-2)}`}},7866:(e,t,s)=>{s.d(t,{y:()=>r});const a=JSON.parse('{"en":{"reset":["Yep! Let\'s clear this field.","Clearing field also resets your turns."],"solution":["Using solution make you impossible to score this puzzle.","It is solution option. Using it prevent you to score your result!"],"save":["Want to save this game?","Wanna save your state?","Saves current game."],"blankFiled":["...this field is still empty.","There is still nothing in the field."],"adequateName":"...consider to use adequate name for a new puzzle.","duplicateName":["This name is already used.","Come up with something new."],"editorNew":["Let\'s create own puzzle!","Show your creative skills!","OK, let\'s get creative."],"gameNew":["Wanna play?","OK, let\'s do this!","Time to solve this puzzle!","What we have here?","It will be easy!","Ready for action?","Let\'s solve this puzzle!"],"attemtsHalf":["Used half of maximum turns!","Keep track of the attempts used."],"unknown":["What are you trying to do?","What are you trying to achieve with this?","Hm-m-m... What?"],"noSavedGame":["No saved games.","Need to save something first.","No saved records."],"lastGameRecovered":["Recovered last attempt.","Welcome back!","We have uncomplete task here."]},"ru":{"reset":["Да! Давай очистим.","Очистка поля также сбрасывает ходы."],"solution":["Активация подсказки сделает невозможным завершить головоломку.","Показать решение? Использование не позволит продолжить!"],"save":["Сохранить эту игру?","Сохранить текущее состояние?","Сохраняет текущую игру."],"blankFiled":["...это поле все еще пусто.","На поле ещё ничего нет."],"adequateName":"...стоит придумать адекватное название для новой головоломки.","duplicateName":["Это имя уже используется.","Придумай что-нибудь новое."],"editorNew":["Давай создадим собственную головоломку!","Прояви творческие способности!","Давай проявим творческий подход."],"gameNew":["Хочешь сыграть?","Ладно, давай сделаем это!","Время решить эту головоломку!","Что у нас здесь?","Это будет легко!","Готов к действию?","Давай разгадаем эту головоломку!"],"attemtsHalf":["Использована половина максимального количества ходов!","Следи за использованными ходами."],"unknown":["Что ты пытаешься сделать?","Чего ты пытаешься этим добиться?","Хм-м-м... Чего?"],"noSavedGame":["Нет сохраненных игр.","Сначала нужно что-то сохранить.","Нет сохраненных записей."],"lastGameRecovered":["Восстановлена последняя попытка.","С возвращением!","У нас есть невыполненная задача."]}}'),n=new(s(7803).Z),o={shrike:null,bulldog:null},r=(e,t=null,s=3e3)=>{const r=n.lang,c=document.querySelector(`.speech__${e}`);if(!t)return void c.classList.add("hidden");if(!a[r]||!a[r][t])throw new Error("No such message:",t);const l=a[r][t],d=Array.isArray(l)?l[~~(Math.random()*l.length)]:l;c.textContent=d,c.classList.remove("hidden"),clearTimeout(o[e]),o[e]=setTimeout((()=>c.classList.add("hidden")),s)}},4770:(e,t,s)=>{s.r(t),s.d(t,{Sound:()=>c});const a={dot:{url:"./public/dot.ogg",type:"multiple"},cross:{url:"./public/cross.ogg",type:"multiple"},whoosh:{url:"./public/whoosh01.ogg"},slide:{url:"./public/whoosh02.ogg"},step:{url:"./public/step.ogg",type:"multiple"}},n=[{name:"Intro",url:"./public/track01.ogg"},{name:"Tool In Space",url:"./public/track02.ogg"},{name:"Inside The Bucket",url:"./public/track03.ogg"}],o={win:["./public/win01.ogg"],loose:["./public/loose01.ogg","./public/loose02.ogg","./public/loose03.ogg","./public/loose04.ogg","./public/loose05.ogg"]},r=Object.keys(a).length+2*n.length+Object.values(o).reduce(((e,t)=>e+t.length),0);class c{static _instance;sound={volume:.5,muted:!1};music={volume:.25,muted:!0};sounds={};tracks=[];speech={win:[],loose:[]};_loaded=0;ready=0;_pending=null;_playing=null;readyCallback=()=>{};startPlayCallback=()=>{};exceptionCallback=()=>{};constructor(){if(c._instance)return c._instance;c._instance=this,Object.keys(o).forEach((e=>o[e].forEach((t=>this._getSound(t,e,"speech"))))),Object.keys(a).forEach((e=>this._getSound(a[e].url,e,a[e].type))),n.forEach((e=>this._getSound(e.url,e.name,"music"))),this._canplay=this._canplay.bind(this),this._ended=this._ended.bind(this)}set musicVolume(e){this.music.volume=e,this._playing&&(this._playing.audio.volume=e)}set musicMuted(e){this.music.muted=e,this._playing?this._playing.audio.muted=e:this.play(0,1)}play(e,t){if(this.music.muted)return;if(!this.tracks[e]||!this.tracks[e].ready)return console.log(`Pending music: ${e}. ${this.tracks[e]?this.tracks[e].name:""}`),void(this._pending=e);const s=this.tracks[e].audio;s.volume=this.music.volume,s.muted=this.music.muted,s.play().then((()=>{t&&s.addEventListener("ended",this._ended),this._playing={track:e,audio:s},this.startPlayCallback(this.tracks[e].name)})).catch((e=>{console.warn(e),this.music.muted=!0,this.exceptionCallback()}))}use(e){if(!this.sound.muted)if(this.sounds[e])for(let t=0;t<10;t+=1){const s=this.sounds[e][t];if(0===s.currentTime||s.ended)return s.volume=this.sound.volume,void s.play().catch((e=>console.log(e)))}else console.warn(`No sound: ${e}`)}say(e){if(this.sound.muted)return;if(!this.speech[e])return void console.warn(`No speech: ${e}`);const t=this.speech[e][~~(Math.random()*this.speech[e].length)];t.volume=this.sound.volume,t.play().catch((e=>console.log(e)))}_getSound(e,t,s=0){const a=this,n=new Request(e,{method:"GET",headers:{"Accept-Ranges":"1000000000"},referrerPolicy:"no-referrer"});fetch(n).then((e=>e)).then((async function(e){const n=await e.blob(),o=window.URL.createObjectURL(n);if(a._loaded+=1,a.ready=~~(a._loaded/r*100),"speech"===s){const e=new Audio;e.src=o,a.speech[t].push(e)}else if("music"===s){const e=new Audio;e.src=o,e.localInfo={name:t,track:a.tracks.length},e.addEventListener("canplay",a._canplay),a.tracks.push({audio:e,name:t})}else a.sounds[t]=Array.from({length:"multiple"===s?10:1},(()=>{const e=new Audio;return e.src=o,e}));a.readyCallback(a.ready,t)}))}_canplay(e){e.target.removeEventListener("canplay",this._canplay);const{name:t,track:s}=e.target.localInfo;this._loaded+=1,this.ready=~~(this._loaded/r*100),this.tracks[s].ready=!0,this._pending===s&&(this.play(this._pending,1),this._pending=null),this.readyCallback(this.ready,t)}_ended(){if(!this._playing)return;let e=(this._playing.track??0)+1;e>=this.tracks.length&&(e=0),this._playing=null,this.play(e,1)}}},7803:(e,t,s)=>{s.d(t,{Z:()=>a});class a{static _instance;static _current={ctx:null,pointer:null,hover:null,mode:0};status=null;lang="en";modeUpdateCallback=()=>{};constructor(){if(a._current.ctx||this.prepare(),a._instance)return a._instance;a._instance=this}prepare(){const e=document.querySelector(".game__field");e&&e.getContext&&(a._current.ctx=e.getContext("2d"));const t=document.querySelector(".game__hover");t&&t.getContext&&(a._current.hover=t,a._current.pointer=t.getContext("2d"))}setModeUpdateCallback(e=(()=>{})){this.modeUpdateCallback=e}get ctx(){return a._current.ctx}get mode(){return a._current.mode}set mode(e){const t=a._current.mode;a._current.mode=Number(e),e!==t&&this.modeUpdateCallback()}get pointer(){return a._current.pointer}get hover(){return a._current.hover}}},3442:(e,t,s)=>{s.r(t),s.d(t,{Store:()=>o});var a=s(5459);const n={theme:(()=>{let e="light";return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e})(),lang:(()=>{let e="en";return navigator?.language&&(e=navigator.language.slice(0,2)),a.I.languages.includes(e)||(e="en"),e})(),sound:{volume:.5,muted:!1},music:{volume:.3,muted:!0},records:[],puzzles:[],last:{game:null,editor:null}};class o{static STORE_NAME="Nonograms";static _instance;_state={};constructor(){if(o._instance)return o._instance;const e=localStorage.getItem(o.STORE_NAME);this._state=JSON.parse(e)??n,o._instance=this}getState(){return this._state}removeState(){this._state={},this.emit()}get(e){return c(this._state,e)}set(e,t){r(this._state,e,t),this.emit()}add(e,t){const s=c(this._state,e);if(void 0===s)r(this._state,e,[t]);else{if(!Array.isArray(s))throw new Error(`Can not add to ${e}`);s.push(t)}this.emit()}emit(){localStorage.setItem(o.STORE_NAME,JSON.stringify(this._state))}}function r(e,t,s){if(e!==Object(e))return e;if("string"!=typeof t||""===t)throw new Error("App store. Path must be type of string.");let a=e;const n=t.split("."),o=n.pop();return n.forEach((e=>{a[e]||(a[e]={}),a=a[e]})),o&&(a[o]=s),e}function c(e,t){if(e===Object(e)&&"string"==typeof t&&""!==t)return t.split(".").reduce(((e,t)=>void 0!==e[t]?e[t]:void 0),e);console.warn("App store. Wrong:",t)}},1301:(e,t,s)=>{s.d(t,{Q:()=>a});class a{static _instance;themeName="light";colors={color00:" #fff",color20:"#c8c8c8",color100:"#000"};callback=()=>{};constructor(){if(a._instance)return a._instance;a._instance=this}addCallback(e=(()=>{})){this.callback=e}emit(){this.callback()}get name(){return this.themeName}set name(e){this.themeName=e,this.emit()}get color00(){return this.colors.color00}get color100(){return this.colors.color100}set color00(e){this.colors.color00=e}set color100(e){this.colors.color100=e}}},6012:e=>{e.exports=JSON.parse('{"en":{"newGame":"New game","randomGame":"Random","loadGame":"Load game","editor":"Editor","records":"Records","about":"About","startNewGame":"Start new game","selectPuzzle":"Select puzzle","preview":"Preview","start":"Start","win":"Win!","loose":"Loose!","timeUsed":"Time","turnsUsed":"Turns","score":"Total score","solutionUsed":"solution used","puzzleName":"Puzzle name","save":"Save","turnsOut":"Your turns is out.","timeOut":"Your time is out.","recordsTitle":"Game records:","aboutTitle":"About:","description":[["In this game your goal is to solve nonograms with Shrike and Bulldog.","Nonograms is a picture logic puzzles in which cells in a grid must be colored or left blank according to numbers at the edges of the grid to reveal a hidden picture."],["### Characters:","Shrike: Have ability to instantly solve current puzzle.","Bulldog: Able to clear field and reset turns count."],["### How to solve:","In this puzzle, the numbers are a form of discrete tomography that measures how many unbroken lines of filled-in squares there are in any given row or column. For example, a clue of \\"4 8 3\\" would mean there are sets of four, eight, and three filled squares, in that order, with at least one blank square between successive sets."],["### Author:","Game was developed by [mrHoft](https://github.com/mrHoft) in 2024 as an educational project of [RSSchool](https://rs.school/) Front-end-s1 course.","Inspirated by [Zeurel](https://www.youtube.com/@Zeurel) \\"[Monkey Wrench](https://www.youtube.com/@MonkeyWrenchSeries)\\".","No TypeScript, React or any other library used (by task rules): only core JS, only hardcore!"]]},"ru":{"newGame":"Новая игра","randomGame":"Случайная","loadGame":"Загрузить","editor":"Редактор","records":"Рекорды","about":"Об игре","startNewGame":"Начать игру","selectPuzzle":"Выбор пазла","preview":"Картинка","start":"Начать","win":"Победа!","loose":"Поражение!","timeUsed":"Время","turnsUsed":"Ходы","score":"Всего набрано","solutionUsed":"использована подсказка","puzzleName":"Название","save":"Сохранить","turnsOut":"Закончились ходы.","timeOut":"Закончилось время.","recordsTitle":"Рекорды:","aboutTitle":"Об игре:","description":[["Суть игры в решении нонограм вместе со Шрайком и Буллдогом.","Нонограммы это логическая игра - пазл, в которой нужно закрасить клетки в соответствии с цифрами на полях чтобы получить скрытую картинку."],["### Персонажи:","Шрайк: Обладает способностью мгновенно решить пазл.","Буллдог: Может очистить поле и сбросить счётчик ходов."],["### Как решать пазлы:","В этой головоломке числа показывают сколько непрерывных линий заполненных ячеек имеется в любой строке или столбце. Например, подсказка «4 8 3» будет означать, что существуют наборы из четырех, восьми и трех заполненных ячеек в этом порядке, и по крайней мере с одниой пустой ячейкой между ними."],["### Автор:","Игру создал [mrHoft](https://github.com/mrHoft) в 2024 году в рамках образовательного проекта курса [RSSchool](https://rs.school/) Front-end-s1.","Вдохновлено анимационным сериалом \\"[Monkey Wrench](https://www.youtube.com/@MonkeyWrenchSeries)\\" от [Zeurel](https://www.youtube.com/@Zeurel).","Не использованы ни TypeScript, ни React или какие-либо вообще библиотеки (по условиям задачи): только core JS, только хардкор!"]]}}')}}]);